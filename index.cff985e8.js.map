{"mappings":"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","sources":["src/js/translate.js","node_modules/src/lg-events.ts","node_modules/src/lg-settings.ts","node_modules/src/lgQuery.ts","node_modules/src/lg-utils.ts","node_modules/src/lightgallery.ts","src/plugins/autoplay/lg-autoplay.min.js","src/plugins/thumbnail/lg-thumbnail.min.js","src/js/source/DynamicMainGallaryEl.json","src/js/main-gallary.js","node_modules/src/index.ts","src/js/burger-menu.js","src/js/news.js","src/js/source/MainNewsEl.json"],"sourcesContent":["const LangArr = {\r\n  lng__logo: { ua: '  ', en: `Brabanson's Dog Diary` },\r\n  lng__aboutMe__nav: { ua: ' ', en: 'About Me' },\r\n  lng__news__nav: { ua: '', en: 'News' },\r\n  lng__contact__nav: { ua: '', en: 'Contacts' },\r\n  lng__aboutMe__menu: { ua: ' ', en: 'About Me' },\r\n  lng__news__menu: { ua: '', en: 'News' },\r\n  lng__contact__menu: { ua: '', en: 'Contacts' },\r\n  lng__heroTitle: {\r\n    ua: ' :  -',\r\n    en: 'Brabanson: Companion Dog Blog',\r\n  },\r\n  lng__heroText: {\r\n    ua: '     -!       ,             .          !',\r\n    en: 'Welcome to the blog of our beloved companion dog! We are happy to share with you our adventures, impressions, and daily life in a friendly society with our cheerful and good dog. Follow us and learn more about our friendly team!',\r\n  },\r\n  lng__inform__title: { ua: ' ', en: 'About Me' },\r\n};\r\n\r\nif (!localStorage.getItem('lang')) {\r\n  localStorage.setItem('lang', 'en');\r\n}\r\n\r\nconst refs = {\r\n  navBtnEn: document.querySelector('#nav__en'),\r\n  navBtnUa: document.querySelector('#nav__ua'),\r\n  menuBtnEn: document.querySelector('#menu__en'),\r\n  menuBtnUa: document.querySelector('#menu__ua'),\r\n};\r\n\r\nrefs.navBtnEn.addEventListener('click', () => {\r\n  localStorage.setItem('lang', 'en');\r\n  ChangeLang();\r\n});\r\nrefs.navBtnUa.addEventListener('click', () => {\r\n  localStorage.setItem('lang', 'ua');\r\n  ChangeLang();\r\n});\r\nrefs.menuBtnEn.addEventListener('click', () => {\r\n  localStorage.setItem('lang', 'en');\r\n  ChangeLang();\r\n});\r\nrefs.menuBtnUa.addEventListener('click', () => {\r\n  localStorage.setItem('lang', 'ua');\r\n  ChangeLang();\r\n});\r\n\r\nfunction ChangeLang() {\r\n  let lang = localStorage.getItem('lang');\r\n  for (const key in LangArr) {\r\n    document.querySelector(`.${key}`).innerHTML = LangArr[key][lang];\r\n  }\r\n}\r\nChangeLang();\r\n","import { LightGallery } from './lightgallery';\nimport { VideoSource } from './plugins/video/types';\n\n/**\n * List of lightGallery events\n * All events should be documented here\n * Below interfaces are used to build the website documentations\n * */\nexport const lGEvents: {\n    [key: string]: string;\n} = {\n    afterAppendSlide: 'lgAfterAppendSlide',\n    init: 'lgInit',\n    hasVideo: 'lgHasVideo',\n    containerResize: 'lgContainerResize',\n    updateSlides: 'lgUpdateSlides',\n    afterAppendSubHtml: 'lgAfterAppendSubHtml',\n    beforeOpen: 'lgBeforeOpen',\n    afterOpen: 'lgAfterOpen',\n    slideItemLoad: 'lgSlideItemLoad',\n    beforeSlide: 'lgBeforeSlide',\n    afterSlide: 'lgAfterSlide',\n    posterClick: 'lgPosterClick',\n    dragStart: 'lgDragStart',\n    dragMove: 'lgDragMove',\n    dragEnd: 'lgDragEnd',\n    beforeNextSlide: 'lgBeforeNextSlide',\n    beforePrevSlide: 'lgBeforePrevSlide',\n    beforeClose: 'lgBeforeClose',\n    afterClose: 'lgAfterClose',\n    rotateLeft: 'lgRotateLeft',\n    rotateRight: 'lgRotateRight',\n    flipHorizontal: 'lgFlipHorizontal',\n    flipVertical: 'lgFlipVertical',\n    autoplay: 'lgAutoplay',\n    autoplayStart: 'lgAutoplayStart',\n    autoplayStop: 'lgAutoplayStop',\n};\n\n// Follow the below format for the event documentation\n// @method is the method name when event is used with Angular/React components\n\n/**\n * Fired only once when lightGallery is initialized\n * @name lgInit\n * @method onInit\n * @example\n *   const lg = document.getElementById('custom-events-demo');\n *   // Perform any action on lightGallery initialization.\n *   // Init event returns the plugin instance that can be used to call any lightGalley public method\n *   let pluginInstance = null;\n *   lg.addEventListener('lgInit', (event) => {\n *      pluginInstance = event.detail.instance;\n *   });\n *   lightGallery(lg);\n * @see <a href=\"/docs/methods\">Methods<a>\n */\nexport interface InitDetail {\n    /**\n     * lightGallery plugin instance\n     */\n    instance: LightGallery;\n}\n\n/**\n * Fired when the slide content has been inserted into it's slide container.\n * @name lgAfterAppendSlide\n * @method onAfterAppendSlide\n */\nexport interface AfterAppendSlideEventDetail {\n    /**\n     * Index of the slide\n     */\n    index: number;\n}\n\n/**\n * Fired immediately before opening the gallery\n * @name lgBeforeOpen\n * @method onBeforeOpen\n */\nexport interface BeforeOpenDetail {}\n\n/**\n * Fired immediately after opening the gallery\n * @name lgAfterOpen\n * @method onAfterOpen\n */\nexport interface AfterOpenDetail {}\n\n/**\n * Fired once the media inside the slide has been completely loaded .\n * @name lgSlideItemLoad\n * @method onSlideItemLoad\n */\nexport interface SlideItemLoadDetail {\n    /**\n     * Index of the slide\n     */\n    index: number;\n    /**\n     * For the first slide, lightGallery adds some delay for displaying the loaded slide item.\n     * This delay is required for the transition effect when the slide item is displayed\n     * Respect the delay when you use this event\n     */\n    delay: number;\n\n    // Will be true for the first slide\n    isFirstSlide: boolean;\n}\n\n/**\n * Fired immediately before each slide transition.\n * @name lgBeforeSlide\n * @method onBeforeSlide\n * @example\n *   const lg = document.getElementById('custom-events-demo');\n *   // Perform any action before each slide transition\n *   lg.addEventListener('lgBeforeSlide', (event) => {\n *       const { index, prevIndex } = event.detail;\n *       alert(index, prevIndex);\n *   });\n *   lightGallery(lg);\n */\nexport interface BeforeSlideDetail {\n    /**\n     * Index of the previous slide\n     */\n    prevIndex: number;\n    /**\n     * Index of the slide\n     */\n    index: number;\n    /**\n     * true if slide function called via touch event or mouse drag\n     */\n    fromTouch: boolean;\n    /**\n     * true if slide function called via thumbnail click\n     */\n    fromThumb: boolean;\n}\n\n/**\n * Fired immediately after each slide transition.\n * @name lgAfterSlide\n * @method onAfterSlide\n */\nexport interface AfterSlideDetail {\n    /**\n     * Index of the previous slide\n     */\n    prevIndex: number;\n    /**\n     * Index of the slide\n     */\n    index: number;\n    /**\n     * true if slide function called via touch event or mouse drag\n     */\n    fromTouch: boolean;\n    /**\n     * true if slide function called via thumbnail click\n     */\n    fromThumb: boolean;\n}\n\n/**\n * Fired when the video poster is clicked.\n * @name lgPosterClick\n * @method onPosterClick\n */\nexport interface PosterClickDetail {}\n\n/**\n * Fired when the drag event to move to different slide starts.\n * @name lgDragStart\n * @method onDragStart\n */\nexport interface DragStartDetail {}\n\n/**\n * Fired periodically during the drag operation.\n * @name lgDragMove\n * @method onDragMove\n */\nexport interface DragMoveDetail {}\n\n/**\n * Fired when the user has finished the drag operation\n * @name lgDragEnd\n * @method onDragEnd\n */\nexport interface DragEndDetail {}\n\n/**\n * Fired immediately before the start of the close process.\n * @name lgBeforeClose\n * @method onBeforeClose\n */\nexport interface BeforeCloseDetail {}\n\n/**\n * Fired immediately once lightGallery is closed.\n * @name lgAfterClose\n * @method onAfterClose\n */\nexport interface AfterCloseDetail {\n    /**\n     * lightGallery plugin instance\n     */\n    instance: LightGallery;\n}\n\n/**\n * Fired immediately before each \"next\" slide transition\n * @name lgBeforeNextSlide\n * @method onBeforeNextSlide\n */\nexport interface BeforeNextSlideDetail {\n    /**\n     * Index of the slide\n     */\n    index: number;\n    /**\n     * true if slide function called via touch event or mouse drag\n     */\n    fromTouch: boolean;\n}\n\n/**\n * Fired immediately before each \"prev\" slide transition\n * @name lgBeforePrevSlide\n * @method onBeforePrevSlide\n */\nexport interface BeforePrevSlideDetail {\n    /**\n     * Index of the slide\n     */\n    index: number;\n    /**\n     * true if slide function called via touch event or mouse drag\n     */\n    fromTouch: boolean;\n}\n\n/**\n * Fired when the sub-html content (ex : title/ description) has been appended into the slide.\n * @name lgAfterAppendSubHtml\n * @method onAfterAppendSubHtml\n */\nexport interface AfterAppendSubHtmlDetail {\n    /**\n     * Index of the slide\n     */\n    index: number;\n}\n\n/**\n * Fired when the lightGallery container has been resized.\n * @name lgContainerResize\n * @method onContainerResize\n */\nexport interface ContainerResizeDetail {\n    /**\n     * Index of the slide\n     */\n    index: number;\n}\n\n/**\n * Fired when lightGallery detects video slide\n * @name lgHasVideo\n * @method onHasVideo\n */\nexport interface HasVideoDetail {\n    /**\n     * Index of the slide,\n     */\n    index: number;\n    /**\n     * Video source\n     */\n    src: string;\n    /**\n     * HTML5 video source if available\n     * <p>\n       HTML5 video source = source: {\n            src: string;\n            type: string;\n        }[];\n        attributes: HTMLVideoElement;\n     * </p>\n     */\n    html5Video: VideoSource;\n    /**\n     * True if video has poster\n     */\n    hasPoster: boolean;\n}\n\n/**\n * Fired when the image is rotated in anticlockwise direction\n * @name lgRotateLeft\n * @method onRotateLeft\n */\nexport interface RotateLeftDetail {\n    /**\n     * Index of the slide\n     */\n    index: number;\n}\n\n/**\n * Fired when the image is rotated in clockwise direction\n * @name lgRotateRight\n * @method onRotateRight\n */\nexport interface RotateRightDetail {\n    /**\n     * Index of the slide\n     */\n    index: number;\n}\n\n/**\n * Fired when the image is flipped horizontally\n * @name lgFlipHorizontal\n * @method onFlipHorizontal\n */\nexport interface FlipHorizontalDetail {\n    /**\n     * Index of the slide\n     */\n    index: number;\n}\n\n/**\n * Fired when the image is flipped vertically\n * @name lgFlipVertical\n * @method onFlipVertical\n */\nexport interface FlipVerticalDetail {\n    /**\n     * Index of the slide\n     */\n    index: number;\n}\n","import { GalleryItem } from './lg-utils';\nimport { LgQuery } from './lgQuery';\nimport { LightGallery } from './lightgallery';\nimport { AutoplaySettings } from './plugins/autoplay/lg-autoplay-settings';\nimport { CommentSettings } from './plugins/comment/lg-comment-settings';\nimport { FullscreenSettings } from './plugins/fullscreen/lg-fullscreen-settings';\nimport { HashSettings } from './plugins/hash/lg-hash-settings';\nimport { PagerSettings } from './plugins/pager/lg-pager-settings';\nimport { RotateSettings } from './plugins/rotate/lg-rotate-settings';\nimport { ShareSettings } from './plugins/share/lg-share-settings';\nimport { ThumbnailsSettings } from './plugins/thumbnail/lg-thumbnail-settings';\nimport { VideoSettings } from './plugins/video/lg-video-settings';\nimport { ZoomSettings } from './plugins/zoom/lg-zoom-settings';\n\ntype LightGalleryCoreMobileSettings = Exclude<\n    LightGalleryCoreSettings,\n    'mobileSettings'\n>;\n\n// @todo use separate mobile settings for plugins\nexport interface MobileSettings\n    extends LightGalleryCoreMobileSettings,\n        Partial<ZoomSettings>,\n        Partial<ThumbnailsSettings>,\n        Partial<VideoSettings>,\n        Partial<AutoplaySettings>,\n        Partial<CommentSettings>,\n        Partial<FullscreenSettings>,\n        Partial<HashSettings>,\n        Partial<PagerSettings>,\n        Partial<RotateSettings>,\n        Partial<ShareSettings> {}\n\nexport interface LightGalleryCoreStrings {\n    closeGallery: string;\n    toggleMaximize: string;\n    previousSlide: string;\n    nextSlide: string;\n    download: string;\n    playVideo: string;\n}\n\nexport type LightGalleryAllSettings = LightGalleryCoreSettings &\n    ZoomSettings &\n    ThumbnailsSettings &\n    VideoSettings &\n    AutoplaySettings &\n    CommentSettings &\n    FullscreenSettings &\n    HashSettings &\n    PagerSettings &\n    RotateSettings &\n    ShareSettings;\n\nexport type LightGallerySettings = Partial<LightGalleryAllSettings>;\n\nexport interface LightGalleryCoreSettings {\n    /**\n     * Type of transition between images.\n     */\n    mode:\n        | 'lg-slide'\n        | 'lg-fade'\n        | 'lg-zoom-in'\n        | 'lg-zoom-in-big'\n        | 'lg-zoom-out'\n        | 'lg-zoom-out-big'\n        | 'lg-zoom-out-in'\n        | 'lg-zoom-in-out'\n        | 'lg-soft-zoom'\n        | 'lg-scale-up'\n        | 'lg-slide-circular'\n        | 'lg-slide-circular-vertical'\n        | 'lg-slide-vertical'\n        | 'lg-slide-vertical-growth'\n        | 'lg-slide-skew-only'\n        | 'lg-slide-skew-only-rev'\n        | 'lg-slide-skew-only-y'\n        | 'lg-slide-skew-only-y-rev'\n        | 'lg-slide-skew'\n        | 'lg-slide-skew-rev'\n        | 'lg-slide-skew-cross'\n        | 'lg-slide-skew-cross-rev'\n        | 'lg-slide-skew-ver'\n        | 'lg-slide-skew-ver-rev'\n        | 'lg-slide-skew-ver-cross'\n        | 'lg-slide-skew-ver-cross-rev'\n        | 'lg-lollipop'\n        | 'lg-lollipop-rev'\n        | 'lg-rotate'\n        | 'lg-rotate-rev'\n        | 'lg-tube';\n\n    /**\n     * Slide animation CSS easing property\n     */\n    easing: string;\n\n    /**\n     *Transition duration (in ms).\n     */\n    speed: number;\n\n    /**\n     * If you are using lightGallery for commercial projects, you need to purchase a commercial license\n     * to get the license key. For projects that are compatible with GPLv3 license,\n     * please contact us for getting a license key at <a href=\"mailto:contact@lightgalleryjs.com\">contact@lightgalleryjs.com</a>.\n     * If you want to test lightGallery before purchasing a commercial license, you can\n     * use `0000-0000-000-0000` as a temporary license key\n     */\n\n    licenseKey: string;\n\n    /**\n     * Height of the gallery.\n     * example '100%' , '300px'\n     */\n    height: string;\n\n    /**\n     * Width of the gallery.\n     * example '100%' , '300px'\n     */\n    width: string;\n\n    /**\n     * Add custom class for gallery container\n     * This can be used to set different style for different galleries\n     */\n    addClass: string;\n\n    /**\n     * Start animation class for the gallery.\n     * @description\n     * <ul>\n     * <li>startClass will be empty zoomFromOrigin is true.</li>\n     * <li>This can be used to change the starting effect when the image is loaded</li>\n     * <li>This is also applied when navigating to new slides</li>\n     * </ul>\n     */\n    startClass: string;\n\n    /**\n     * Enable zoom from origin effect.\n     * @description You need to know the original image size upfront and provide it via data-lg-size attribute as <code> data-lg-size=\"1920-1280</code>\"\n     *\n     * If you don't know, the size of a few images in the list, you can skip the data-lg-size attribute for the particular slides,\n     * lightGallery will show the default animation if data-lg-size is not available\n     *\n     * If you are using responsive images,\n     * you can pass a comma separated list of sizes combined with a max-width (up to what size the particular image should be used)\n     *\n     * example -\n     * <code> data-lg-size=\"240-160-375, 400-267-480, 1600-1067\"\n     * data-responsive=\"img-240.jpg 375, img-400.jpg 480\"\n     * data-src=\"img-1600.jpg\" </code>\n     *\n     * In the above example, upto 375 width img.240.jpg and lg-size 240-160 will be used.\n     * Similarly, upto 480 pixel width size 400-267 and img-400.jpg will be used\n     * And above 480, lg-size 1600-1067 and img-1600.jpg will be used\n     *\n     * <ul>\n     * <li>At the moment, zoomFromOrigin options is supported only for image slides.</li>\n     * <li>Will be false if dynamic option is enabled or galleryID found in the URL.</li>\n     * <li>startClass will be empty if zoomFromOrigin is true to avoid css conflicts.</li>\n     * </ul>\n     */\n    zoomFromOrigin: boolean;\n\n    /**\n     * Zoom from image animation duration\n     */\n    startAnimationDuration: number;\n\n    /**\n     * Backdrop transition duration.\n     * Note - Do not change the value of backdrop via css.\n     */\n    backdropDuration: number;\n\n    /**\n     * Configure where the gallery should be appended.\n     * Useful to create inline galleries and more\n     * It is an empty string in the default settings and later assigned to document.body to avoid accessing document for SSR\n     */\n    container: HTMLElement | '';\n\n    /**\n     * Delay for hiding gallery controls in ms.\n     * Pass <code>0</code> if you don't want to hide the controls\n     */\n    hideBarsDelay: number;\n\n    /**\n     * Delay in hiding controls for the first time when gallery is opened\n     */\n    showBarsAfter: number;\n\n    /**\n     * Delay slide transitions.\n     * @description This is useful if you want to do any action in the current slide before moving to next slide.\n     * <section>\n     * For example, fading out the captions before going to next slide.\n     * <code>.lg-slide-progress</code> class name is added to the current slide immediately after calling the slide method.\n     * But transition begins only after the delay\n     * </section>\n     */\n    slideDelay: number;\n\n    /**\n     * Support legacy browsers\n     * @description Currently this is used only for adding support to srcset attribute via picturefill library\n     * If true lightGallery will show warning message to include picturefill library\n     */\n    supportLegacyBrowser: boolean;\n\n    /**\n     * If true, toolbar, captions and thumbnails will not overlap with media element\n     * This will not effect thumbnails if animateThumb is false\n     * Also, toggle thumbnails button is not displayed if allowMediaOverlap is false\n     * <section>\n     * Note - Changing the position of the media on every slide transition creates a flickering effect.\n     * Therefore, the height of the caption is calculated dynamically, only once based on the first slide caption.\n     * </section>\n     * <section>\n     * if you have dynamic captions for each media,\n     * you can provide an appropriate height for the captions via allowMediaOverlap option\n     * </section>\n     */\n    allowMediaOverlap: boolean;\n\n    /**\n     * Video max size.\n     * @description This can be over-written by passing specific size via data-lg-size attribute\n     * Recommended video resolution and & aspect ratios <a href=\"https://support.google.com/youtube/answer/6375112\">https://support.google.com/youtube/answer/6375112</a>\n     */\n    videoMaxSize: string;\n\n    /**\n     * Automatically load poster image for YouTube videos\n     */\n    loadYouTubePoster: boolean;\n\n    /**\n     * Height of the caption for calculating allowMediaOverlap positions\n     * Note - this is only used to find the position of media item if allowMediaOverlap is true.\n     * Not for setting height of the captions\n     * Set 0 if you want to calculate the height of captions dynamically\n     */\n    defaultCaptionHeight: number;\n\n    /**\n     * aria-labelledby attribute fot gallery\n     */\n    ariaLabelledby: string;\n\n    /**\n     * aria-describedby attribute for gallery\n     */\n    ariaDescribedby: string;\n\n    /**\n     * Hide scrollbar when gallery is opened\n     * @version V2.5.0\n     */\n    hideScrollbar: boolean;\n\n    /**\n     * Reset to previous scrollPosition when lightGallery is closed\n     * @description By default, lightGallery doesn't hide the scrollbar for a smooth opening transition.\n     * If a user changes the scroll position, lightGallery resets it to the previous value\n     * @version V2.5.0\n     */\n    resetScrollPosition: boolean;\n\n    /**\n     * If false user won't be abel to close the gallery at all\n     * This is useful for creating inline galleries.\n     */\n    closable: boolean;\n\n    /**\n     * allows vertical drag/swipe to close gallery\n     * <code>false</code> if option <code>closable</code> is <code>false</code>\n     */\n    swipeToClose: boolean;\n    /**\n     * allows clicks on black area to close gallery.\n     */\n    closeOnTap: boolean;\n\n    /**\n     * If false, close button won't be displayed.\n     * Useful for creating inline galleries.\n     */\n    showCloseIcon: boolean;\n\n    /**\n     * Show maximize icon.\n     * Useful for creating inline galleries.\n     */\n    showMaximizeIcon: boolean;\n\n    /**\n     * If false, will disable the ability to loop back to the beginning of the gallery from the last slide.\n     */\n    loop: boolean;\n\n    /**\n     * Whether the LightGallery could be closed by pressing the \"Esc\" key.\n     */\n    escKey: boolean;\n\n    /**\n     * Enable keyboard navigation\n     */\n    keyPress: boolean;\n\n    /**\n     * Trap focus within the lightGallery\n     * @version V2.5.0\n     */\n    trapFocus: boolean;\n\n    /**\n     * If false, prev/next buttons will not be displayed.\n     */\n    controls: boolean;\n\n    /**\n     * Enable slideEnd animation\n     */\n    slideEndAnimation: boolean;\n\n    /**\n     * If true, prev/next button will be hidden on first/last image.\n     * @description Note - this option will be ignored if <code>loop</code> or <code>slideEndAnimation</code> is set to true\n     */\n    hideControlOnEnd: boolean;\n\n    /**\n     * ability to navigate to next/prev slides on mousewheel\n     */\n    mousewheel: boolean;\n\n    /**\n     * Option to get captions from alt or title tags.\n     */\n    getCaptionFromTitleOrAlt: boolean;\n\n    /**\n     * control where the sub-html should be appended.\n     * If you choose '.lg-outer', you are responsible for placing the div at the right position.\n     * '.lg-outer' is useful if you want show custom HTML outside the normal gallery\n     */\n    appendSubHtmlTo: '.lg-sub-html' | '.lg-item' | '.lg-outer';\n\n    /**\n     * Set to true if the selector in \"data-sub-html\" should use the current item as its origin.\n     */\n    subHtmlSelectorRelative: boolean;\n\n    /**\n     * number of preload slides\n     * @description will exicute only after the current slide is fully loaded.\n     * for example, if you click on 4th image and if preload = 1 then 3rd slide and 5th\n     * slide will be loaded in the background after the 4th slide is fully loaded..\n     * if preload is 2 then 2nd 3rd 5th 6th slides will be preloaded.\n     */\n    preload: number;\n\n    /**\n     * Control how many slide items should be kept in dom at a time\n     * @description To improve performance by reducing number of gallery items in the dom,\n     * lightGallery keeps only the lowest possible number of slides in the dom at a time.\n     * This has a minimum value of 3\n     */\n    numberOfSlideItemsInDom: number;\n\n    /**\n     * Custom selector property instead of direct children.\n     * @description Based on your markup structure, you can specify custom selectors to fetch media data for the gallery\n     * Pass \"this\" to select same element\n     * You can also pass HTMLCollection directly\n     * Example - '.my-selector' | '#my-selector' | this | document.querySelectorAll('.my-selector')\n     */\n    selector: string | HTMLCollection[];\n\n    /**\n     * By default selector element relative to the current gallery.\n     * Instead of that you can tell lightGallery to select element relative to another element.\n     * Example - '.my-selector-container' | '#my-selector-container'\n     * In the code this become selector =  document.querySelector(this.s.selectWithin ).querySelectorAll(this.s.selector);\n     */\n    selectWithin: string;\n\n    /**\n     * Custom html for next control\n     */\n    nextHtml: string;\n\n    /**\n     * Custom html for prev control\n     */\n    prevHtml: string;\n\n    /**\n     * specify which slide should load initially\n     */\n    index: number;\n\n    /**\n     * Set width for iframe.\n     */\n    iframeWidth: string;\n\n    /**\n     * Set height for iframe.\n     */\n    iframeHeight: string;\n\n    /**\n     * Set max width for iframe.\n     */\n    iframeMaxWidth: string;\n\n    /**\n     * Set max height for iframe.\n     */\n    iframeMaxHeight: string;\n\n    /**\n     * Enable download button.\n     * @description By default download url will be taken from data-src/href attribute but it supports only for modern browsers.\n     * If you want you can provide another url for download via data-download-url.\n     * pass false in data-download-url if you want to hide download button for the particular slide.\n     */\n    download: boolean;\n\n    /**\n     * Whether to show total number of images and index number of currently displayed image.\n     */\n    counter: boolean;\n\n    /**\n     * Where the counter should be appended\n     */\n    appendCounterTo: string;\n\n    /**\n     * By setting the swipeThreshold (in px) you can set how far the user must swipe for the next/prev image.\n     */\n    swipeThreshold: number;\n\n    /**\n     * Enables swipe support for touch devices\n     */\n    enableSwipe: boolean;\n\n    /**\n     * Enables desktop mouse drag support\n     */\n    enableDrag: boolean;\n\n    /**\n     * LightGallery can be instantiated and launched programmatically by setting this option to true and populating dynamicEl option (see below) with the definitions of images.\n     */\n    dynamic: boolean;\n\n    /**\n     * An array of objects (src, iframe, subHtml, thumb, poster, responsive, srcset sizes) representing gallery elements.\n     */\n    dynamicEl: GalleryItem[];\n\n    /**\n     * Fetch custom properties from the selector\n     * @description this is useful for plugin development\n     * By default lightGallery fetches and store all the props selectors to\n     * reduce frequent dom interaction for fetching props every time.\n     *\n     * If you need any addition data to be fetched and stored in the galleryItems variable,\n     * you can do this just by passing the prop names via extraProps\n     * @example\n     * HTML:\n     * <div id=\"lightGallery\">\n     *     <a href=\"a.jpg\" data-custom-prop=\"abc\"><img src=\"thumb.jpg\" /></a>\n     *     <a href=\"a.jpg\" data-custom-prop=\"xyz\"><img src=\"thumb.jpg\" /></a>\n     * </div>\n     * JS:\n     * lightGallery(document.getElementById('lightGallery'), {\n     *     extraProps: ['customProp']\n     * })\n     * // Note - If you are using dynamic mode, you can pass any custom prop in the galleryItem\n     * lightGallery(document.getElementById('lightGallery'), {\n     *     dynamic: true,\n     *     dynamicEl: [{\n     *         src: 'img/img1.jpg',\n     *         customProp:'abc',\n     *     }]\n     * })\n     *\n     */\n    extraProps: string[];\n\n    /**\n     * Option to fetch different thumbnail image other than first image\n     * @description If you want to use external image for thumbnail,\n     * add the path of that image inside \"data-\" attribute\n     * and set value of this option to the name of your custom attribute.\n     *\n     * @example\n     * <div id=\"lightGallery\">\n     *     <a href=\"a.jpg\" data-external-thumb-image=\"images/externalThumb.jpg\" ><img src=\"thumb.jpg\" /></a>\n     * </div>\n     *\n     * lightGallery(document.getElementById('lightGallery'), {\n     *     exThumbImage: 'data-external-thumb-image'\n     * })\n     */\n    exThumbImage: string;\n\n    /**\n     * Function to detect mobile devices\n     */\n    isMobile?: () => boolean;\n\n    /**\n     * Separate settings for mobile devices\n     * @description Note - this is applied only at the time of loading\n     * by default controls and close buttons are disabled on mobile devices.\n     * use this options if you want to enable them or change any other settings for mobile devices\n     * Note - mobileSettings does not merge default values, You need to provide all mobileSettings including default values\n     */\n    mobileSettings: Partial<MobileSettings>;\n\n    /**\n     * Aria label strings for lightGallery core modules.\n     * @description This can be useful if you want to localize the lightGallery strings to other languages.\n     * Use your own service to translate the strings and pass it via settings.strings\n     * You can find dedicated strings option for all lightGallery modules in their respective documentation.\n     */\n    strings: LightGalleryCoreStrings;\n\n    plugins: (new (instance: LightGallery, $LG: LgQuery) => any)[];\n}\n\nexport const lightGalleryCoreSettings: LightGalleryCoreSettings = {\n    mode: 'lg-slide',\n    easing: 'ease',\n    speed: 400,\n    licenseKey: '0000-0000-000-0000',\n    height: '100%',\n    width: '100%',\n    addClass: '',\n    startClass: 'lg-start-zoom',\n    backdropDuration: 300,\n    container: '',\n    startAnimationDuration: 400,\n    zoomFromOrigin: true,\n    hideBarsDelay: 0,\n    showBarsAfter: 10000,\n    slideDelay: 0,\n    supportLegacyBrowser: true,\n    allowMediaOverlap: false,\n    videoMaxSize: '1280-720',\n    loadYouTubePoster: true,\n    defaultCaptionHeight: 0,\n    ariaLabelledby: '',\n    ariaDescribedby: '',\n    resetScrollPosition: true,\n    hideScrollbar: false,\n    closable: true,\n    swipeToClose: true,\n    closeOnTap: true,\n    showCloseIcon: true,\n    showMaximizeIcon: false,\n    loop: true,\n    escKey: true,\n    keyPress: true,\n    trapFocus: true,\n    controls: true,\n    slideEndAnimation: true,\n    hideControlOnEnd: false,\n    mousewheel: false,\n    getCaptionFromTitleOrAlt: true,\n    appendSubHtmlTo: '.lg-sub-html',\n    subHtmlSelectorRelative: false,\n    preload: 2,\n    numberOfSlideItemsInDom: 10,\n    selector: '',\n    selectWithin: '',\n    nextHtml: '',\n    prevHtml: '',\n    index: 0,\n    iframeWidth: '100%',\n    iframeHeight: '100%',\n    iframeMaxWidth: '100%',\n    iframeMaxHeight: '100%',\n    download: true,\n    counter: true,\n    appendCounterTo: '.lg-toolbar',\n    swipeThreshold: 50,\n    enableSwipe: true,\n    enableDrag: true,\n    dynamic: false,\n    dynamicEl: [],\n    extraProps: [],\n    exThumbImage: '',\n    isMobile: undefined,\n    mobileSettings: {\n        controls: false,\n        showCloseIcon: false,\n        download: false,\n    } as MobileSettings,\n    plugins: [],\n    strings: {\n        closeGallery: 'Close gallery',\n        toggleMaximize: 'Toggle maximize',\n        previousSlide: 'Previous slide',\n        nextSlide: 'Next slide',\n        download: 'Download',\n        playVideo: 'Play video',\n    } as LightGalleryCoreStrings,\n};\n","interface Offset {\n    left: number;\n    top: number;\n}\n\nfunction initLgPolyfills() {\n    (function () {\n        if (typeof window.CustomEvent === 'function') return false;\n\n        function CustomEvent(event: string, params: any) {\n            params = params || {\n                bubbles: false,\n                cancelable: false,\n                detail: null,\n            };\n            const evt = document.createEvent('CustomEvent');\n            evt.initCustomEvent(\n                event,\n                params.bubbles,\n                params.cancelable,\n                params.detail,\n            );\n            return evt;\n        }\n\n        window.CustomEvent = CustomEvent as any;\n    })();\n    (function () {\n        if (!Element.prototype.matches) {\n            Element.prototype.matches =\n                (Element.prototype as any).msMatchesSelector ||\n                Element.prototype.webkitMatchesSelector;\n        }\n    })();\n}\n\nexport type LgQuery = (selector: any) => lgQuery;\nexport class lgQuery {\n    static eventListeners: { [key: string]: any[] } = {};\n    static generateUUID(): string {\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(\n            /[xy]/g,\n            function (c) {\n                const r = (Math.random() * 16) | 0,\n                    v = c == 'x' ? r : (r & 0x3) | 0x8;\n                return v.toString(16);\n            },\n        );\n    }\n\n    private selector: any;\n    private firstElement: any;\n    private cssVenderPrefixes: string[] = [\n        'TransitionDuration',\n        'TransitionTimingFunction',\n        'Transform',\n        'Transition',\n    ];\n    constructor(selector: string | Element) {\n        this.selector = this._getSelector(selector);\n        this.firstElement = this._getFirstEl();\n        return this;\n    }\n\n    private _getSelector(\n        selector: string | Element,\n        context: Element | Document = document,\n    ): Element | null | NodeListOf<Element> {\n        if (typeof selector !== 'string') {\n            return selector;\n        }\n        context = context || document;\n        const fl = selector.substring(0, 1);\n        if (fl === '#') {\n            return context.querySelector(selector);\n        } else {\n            return context.querySelectorAll(selector);\n        }\n    }\n\n    private _each(\n        func: (\n            elements: Element | NodeListOf<Element> | null,\n            index: number,\n        ) => void,\n    ): this {\n        if (!this.selector) {\n            return this;\n        }\n        if (this.selector.length !== undefined) {\n            [].forEach.call(this.selector, func);\n        } else {\n            func(this.selector, 0);\n        }\n        return this;\n    }\n\n    private _setCssVendorPrefix(\n        el: any,\n        cssProperty: string,\n        value?: string | number,\n    ): void {\n        // prettier-ignore\n        const property = cssProperty.replace(/-([a-z])/gi, function (\n            s,\n            group1,\n        ) {\n            return group1.toUpperCase();\n        });\n        if (this.cssVenderPrefixes.indexOf(property) !== -1) {\n            el.style[\n                property.charAt(0).toLowerCase() + property.slice(1)\n            ] = value;\n            el.style['webkit' + property] = value;\n            el.style['moz' + property] = value;\n            el.style['ms' + property] = value;\n            el.style['o' + property] = value;\n        } else {\n            el.style[property] = value;\n        }\n    }\n\n    private _getFirstEl() {\n        if (this.selector && this.selector.length !== undefined) {\n            return this.selector[0];\n        } else {\n            return this.selector;\n        }\n    }\n\n    private isEventMatched(event: string, eventName: string): boolean {\n        const eventNamespace = eventName.split('.');\n        return event\n            .split('.')\n            .filter((e) => e)\n            .every((e) => {\n                return eventNamespace.indexOf(e) !== -1;\n            });\n    }\n\n    attr(attr: string): string;\n    attr(attr: string, value: string | number | boolean): this;\n    attr(attr: string, value?: string | number | boolean): string | this {\n        if (value === undefined) {\n            if (!this.firstElement) {\n                return '';\n            }\n            return this.firstElement.getAttribute(attr);\n        }\n        this._each((el: any) => {\n            el.setAttribute(attr, value);\n        });\n        return this;\n    }\n\n    find(selector: any): lgQuery {\n        return $LG(this._getSelector(selector, this.selector));\n    }\n\n    first(): lgQuery {\n        if (this.selector && this.selector.length !== undefined) {\n            return $LG(this.selector[0]);\n        } else {\n            return $LG(this.selector);\n        }\n    }\n\n    eq(index: number): lgQuery {\n        return $LG(this.selector[index]);\n    }\n\n    parent(): lgQuery {\n        return $LG(this.selector.parentElement);\n    }\n\n    get(): HTMLElement {\n        return this._getFirstEl();\n    }\n\n    removeAttr(attributes: string): this {\n        const attrs = attributes.split(' ');\n        this._each((el: any) => {\n            attrs.forEach((attr: string) => el.removeAttribute(attr));\n        });\n        return this;\n    }\n\n    wrap(className: string): this {\n        if (!this.firstElement) {\n            return this;\n        }\n        const wrapper = document.createElement('div');\n        wrapper.className = className;\n        this.firstElement.parentNode.insertBefore(wrapper, this.firstElement);\n        this.firstElement.parentNode.removeChild(this.firstElement);\n        wrapper.appendChild(this.firstElement);\n        return this;\n    }\n\n    addClass(classNames = ''): this {\n        this._each((el: any) => {\n            // IE doesn't support multiple arguments\n            classNames.split(' ').forEach((className) => {\n                if (className) {\n                    el.classList.add(className);\n                }\n            });\n        });\n        return this;\n    }\n\n    removeClass(classNames: string): this {\n        this._each((el: any) => {\n            // IE doesn't support multiple arguments\n            classNames.split(' ').forEach((className) => {\n                if (className) {\n                    el.classList.remove(className);\n                }\n            });\n        });\n        return this;\n    }\n\n    hasClass(className: string): boolean {\n        if (!this.firstElement) {\n            return false;\n        }\n        return this.firstElement.classList.contains(className);\n    }\n    hasAttribute(attribute: string): boolean {\n        if (!this.firstElement) {\n            return false;\n        }\n        return this.firstElement.hasAttribute(attribute);\n    }\n    toggleClass(className: string): this {\n        if (!this.firstElement) {\n            return this;\n        }\n        if (this.hasClass(className)) {\n            this.removeClass(className);\n        } else {\n            this.addClass(className);\n        }\n        return this;\n    }\n\n    css(property: string, value?: string | number): this {\n        this._each((el: any) => {\n            this._setCssVendorPrefix(el, property, value);\n        });\n        return this;\n    }\n    // Need to pass separate namespaces for separate elements\n    on(events: string, listener: (e: any) => void): this {\n        if (!this.selector) {\n            return this;\n        }\n        events.split(' ').forEach((event: string) => {\n            if (!Array.isArray(lgQuery.eventListeners[event])) {\n                lgQuery.eventListeners[event] = [];\n            }\n            lgQuery.eventListeners[event].push(listener);\n            this.selector.addEventListener(event.split('.')[0], listener);\n        });\n\n        return this;\n    }\n    // @todo - test this\n    once(event: string, listener: (e: any) => void): this {\n        this.on(event, () => {\n            this.off(event);\n            listener(event);\n        });\n        return this;\n    }\n    off(event: string): this {\n        if (!this.selector) {\n            return this;\n        }\n        Object.keys(lgQuery.eventListeners).forEach((eventName) => {\n            if (this.isEventMatched(event, eventName)) {\n                lgQuery.eventListeners[eventName].forEach((listener) => {\n                    this.selector.removeEventListener(\n                        eventName.split('.')[0],\n                        listener,\n                    );\n                });\n                lgQuery.eventListeners[eventName] = [];\n            }\n        });\n\n        return this;\n    }\n    trigger<Detail>(event: string, detail?: Detail): this {\n        if (!this.firstElement) {\n            return this;\n        }\n\n        const customEvent = new CustomEvent(event.split('.')[0], {\n            detail: detail || null,\n        });\n        this.firstElement.dispatchEvent(customEvent);\n        return this;\n    }\n\n    // Does not support IE\n    load(url: string): this {\n        fetch(url)\n            .then((res) => res.text())\n            .then((html) => {\n                this.selector.innerHTML = html;\n            });\n        return this;\n    }\n\n    html(): string;\n    html(html: string): this;\n    html(html?: string): string | this {\n        if (html === undefined) {\n            if (!this.firstElement) {\n                return '';\n            }\n            return this.firstElement.innerHTML;\n        }\n        this._each((el: any) => {\n            el.innerHTML = html;\n        });\n        return this;\n    }\n    append(html: string | HTMLElement): this {\n        this._each((el: any) => {\n            if (typeof html === 'string') {\n                el.insertAdjacentHTML('beforeend', html);\n            } else {\n                el.appendChild(html);\n            }\n        });\n        return this;\n    }\n    prepend(html: string): this {\n        this._each((el: any) => {\n            el.insertAdjacentHTML('afterbegin', html);\n        });\n        return this;\n    }\n    remove(): this {\n        this._each((el: any) => {\n            el.parentNode.removeChild(el);\n        });\n        return this;\n    }\n    empty(): this {\n        this._each((el: any) => {\n            el.innerHTML = '';\n        });\n        return this;\n    }\n    // Supports only window\n    scrollTop(): number;\n    scrollTop(scrollTop: number): this;\n    scrollTop(scrollTop?: number): number | this {\n        if (scrollTop !== undefined) {\n            document.body.scrollTop = scrollTop;\n            document.documentElement.scrollTop = scrollTop;\n            return this;\n        } else {\n            return (\n                window.pageYOffset ||\n                document.documentElement.scrollTop ||\n                document.body.scrollTop ||\n                0\n            );\n        }\n    }\n    // Supports only window\n    scrollLeft(): number;\n    scrollLeft(scrollLeft?: number): this;\n    scrollLeft(scrollLeft?: number): number | this {\n        if (scrollLeft !== undefined) {\n            document.body.scrollLeft = scrollLeft;\n            document.documentElement.scrollLeft = scrollLeft;\n            return this;\n        } else {\n            return (\n                window.pageXOffset ||\n                document.documentElement.scrollLeft ||\n                document.body.scrollLeft ||\n                0\n            );\n        }\n    }\n    offset(): Offset {\n        if (!this.firstElement) {\n            return {\n                left: 0,\n                top: 0,\n            };\n        }\n        const rect = this.firstElement.getBoundingClientRect();\n        const bodyMarginLeft = $LG('body').style().marginLeft;\n\n        // Minus body margin - https://stackoverflow.com/questions/30711548/is-getboundingclientrect-left-returning-a-wrong-value\n        return {\n            left: rect.left - parseFloat(bodyMarginLeft) + this.scrollLeft(),\n            top: rect.top + this.scrollTop(),\n        };\n    }\n    style(): CSSStyleDeclaration {\n        if (!this.firstElement) {\n            return {} as CSSStyleDeclaration;\n        }\n        return (\n            this.firstElement.currentStyle ||\n            window.getComputedStyle(this.firstElement)\n        );\n    }\n    // Width without padding and border even if box-sizing is used.\n    width(): number {\n        const style = this.style();\n        return (\n            this.firstElement.clientWidth -\n            parseFloat(style.paddingLeft) -\n            parseFloat(style.paddingRight)\n        );\n    }\n    // Height without padding and border even if box-sizing is used.\n    height(): number {\n        const style = this.style();\n        return (\n            this.firstElement.clientHeight -\n            parseFloat(style.paddingTop) -\n            parseFloat(style.paddingBottom)\n        );\n    }\n}\n\nexport function $LG(selector: any): lgQuery {\n    initLgPolyfills();\n    return new lgQuery(selector);\n}\n","import { $LG, lgQuery } from './lgQuery';\nimport { VideoSource } from './plugins/video/types';\nimport { VideoInfo } from './types';\n\nexport interface ImageSize {\n    width: number;\n    height: number;\n}\n\nexport interface ImageSources {\n    media?: string;\n    srcset: string;\n    sizes?: string;\n    type?: string;\n}\n\nexport interface GalleryItem {\n    /**\n     * url of the media\n     * @data-attr data-src\n     */\n    src?: string;\n\n    /**\n     * Source attributes for the <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/source#attributes\">picture</a> element\n     * @data-attr data-sources\n     */\n    sources?: ImageSources[];\n\n    /**\n     * Thumbnail url\n     * @description By default lightGallery uses the image inside gallery selector as thumbnail.\n     * But, If you want to use external image for thumbnail,\n     * pass the thumbnail url via any data attribute and\n     * pass the attribute name via exThumbImage option\n     * @example\n     * <div id=\"lightGallery\">\n     *     <a href=\"a.jpg\" data-external-thumb-image=\"images/externalThumb.jpg\" ><img src=\"thumb.jpg\" /></a>\n     * </div>\n     *\n     * lightGallery(document.getElementById('lightGallery'), {\n     *     exThumbImage: 'data-external-thumb-image'\n     * })\n     * @data-attr data-*\n     */\n    thumb?: string;\n\n    /**\n     * alt attribute for the image\n     * @data-attr alt\n     */\n    alt?: string;\n\n    /**\n     * Title attribute for the video\n     * @data-attr title\n     */\n    title?: string;\n\n    /**\n     * Title for iframe\n     * @data-attr data-iframe-title\n     */\n    iframeTitle?: string;\n\n    /**\n     * Caption for the slide\n     * @description You can either pass the HTML markup or the ID or class name of the element which contains the captions\n     * @data-attr data-sub-html\n     */\n    subHtml?: string;\n\n    /**\n     * url of the file which contain the sub html.\n     * @description Note - Does not support Internet Explorer browser\n     * @data-attr data-sub-html-url\n     */\n    subHtmlUrl?: string;\n\n    /**\n     * Video source\n     * @data-attr data-video\n     */\n    video?: VideoSource;\n\n    /**\n     * Poster url\n     * @data-attr data-poster\n     */\n    poster?: string;\n\n    /**\n     * Custom slide name to use in the url when hash plugin is enabled\n     * @data-attr data-slide-name\n     */\n    slideName?: string;\n\n    /**\n     * List of images and viewport's max width separated by comma.\n     * @description Ex?: img/1-375.jpg 375, img/1-480.jpg 480, img/1-757.jpg 757.\n     * @data-attr data-responsive\n     */\n    responsive?: string;\n\n    /**\n     * srcset attribute values for the main image\n     * @data-attr data-srcset\n     */\n    srcset?: string;\n\n    /**\n     * srcset sizes attribute for the main image\n     * @data-attr data-sizes\n     */\n    sizes?: string;\n\n    /**\n     * Set true is you want to open your url in an iframe\n     * @data-attr data-iframe\n     */\n    iframe?: boolean;\n\n    /**\n     * Download url for your image/video.\n     * @description Pass false if you want to disable the download button.\n     * @data-attr data-download-url\n     */\n    downloadUrl?: string | boolean;\n\n    /**\n     * Name of the file after it is downloaded.\n     * @description The HTML value of the download attribute.\n     * There are no restrictions on allowed values, and the browser will automatically\n     * detect the correct file extension and add it to the file (.img, .pdf, .txt, .html, etc.).\n     * <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#attr-download\">More info</a>\n     * @data-attr data-download\n     */\n    download?: string | boolean;\n\n    /**\n     * Actual size of the image in px.\n     * @description This is used in zoom plugin to see the actual size of the image when double taped on the image.\n     * @data-attr data-width\n     */\n    width?: string;\n\n    /**\n     * Facebook share URL.\n     * @description Specify only if you want to provide separate share URL for the specific slide. By default, current browser URL is taken.\n     * @data-attr data-facebook-share-url\n     */\n    facebookShareUrl?: string;\n\n    /**\n     * Tweet text\n     * @data-attr data-tweet-text\n     */\n    tweetText?: string;\n\n    /**\n     * Twitter share URL.\n     * @description Specify only if you want to provide separate share URL for the specific slide. By default, current browser URL will be taken.\n     * @data-attr data-twitter-share-url\n     */\n    twitterShareUrl?: string;\n\n    /**\n     * Pinterest share URL.\n     * @description Specify only if you want to provide separate share URL for the specific slide. By default, current browser URL will be taken.\n     * Note?: Pinterest requires absolute URL\n     * @data-attr data-pinterest-share-url\n     */\n    pinterestShareUrl?: string;\n\n    /**\n     * Description for Pinterest post.\n     * @data-attr data-pinterest-text\n     */\n    pinterestText?: string;\n\n    /**\n     * Facebook comments body html\n     * @description Please refer <a href=\"https://developers.facebook.com/docs/plugins/comments/#comments-plugin\">facebook official documentation</a> for generating the HTML markup\n     * @example\n     * <div\n     *      class=\"fb-comments\"\n     *      data-href=\"https://www.lightgalleryjs.com/demos/comment-box/#facebook-comments-demo\"\n     *      data-width=\"400\"\n     *      data-numposts=\"5\">\n     * </div>\n     * @data-attr data-fb-html\n     */\n    fbHtml?: string;\n\n    /**\n     * Disqus page identifier\n     * @description Please refer official <a href=\"https://help.disqus.com/en/articles/1717084-javascript-configuration-variables\">disqus documentation</a> for more info\n     * @data-attr data-disqus-identifier\n     */\n    disqusIdentifier?: string;\n\n    /**\n     * Disqus page url\n     * @description Please refer official <a href=\"https://help.disqus.com/en/articles/1717084-javascript-configuration-variables\">disqus documentation</a> for more info\n     * @data-attr data-disqus-url\n     */\n    disqusUrl?: string;\n\n    __slideVideoInfo?: VideoInfo;\n    [key: string]: any;\n}\n\nconst defaultDynamicOptions = [\n    'src',\n    'sources',\n    'subHtml',\n    'subHtmlUrl',\n    'html',\n    'video',\n    'poster',\n    'slideName',\n    'responsive',\n    'srcset',\n    'sizes',\n    'iframe',\n    'downloadUrl',\n    'download',\n    'width',\n    'facebookShareUrl',\n    'tweetText',\n    'iframeTitle',\n    'twitterShareUrl',\n    'pinterestShareUrl',\n    'pinterestText',\n    'fbHtml',\n    'disqusIdentifier',\n    'disqusUrl',\n];\n\n// Convert html data-attribute to camalcase\nexport function convertToData(attr: string): string {\n    // FInd a way for lgsize\n    if (attr === 'href') {\n        return 'src';\n    }\n    attr = attr.replace('data-', '');\n    attr = attr.charAt(0).toLowerCase() + attr.slice(1);\n    attr = attr.replace(/-([a-z])/g, (g) => g[1].toUpperCase());\n\n    return attr;\n}\n\nconst utils = {\n    /**\n     * get possible width and height from the lgSize attribute. Used for ZoomFromOrigin option\n     */\n    getSize(\n        el: HTMLElement,\n        container: lgQuery,\n        spacing = 0,\n        defaultLgSize?: string,\n    ): ImageSize | undefined {\n        const LGel = $LG(el);\n        let lgSize = LGel.attr('data-lg-size') || defaultLgSize;\n\n        if (!lgSize) {\n            return;\n        }\n\n        const isResponsiveSizes = lgSize.split(',');\n        // if at-least two viewport sizes are available\n        if (isResponsiveSizes[1]) {\n            const wWidth = window.innerWidth;\n            for (let i = 0; i < isResponsiveSizes.length; i++) {\n                const size = isResponsiveSizes[i];\n                const responsiveWidth = parseInt(size.split('-')[2], 10);\n                if (responsiveWidth > wWidth) {\n                    lgSize = size;\n                    break;\n                }\n\n                // take last item as last option\n                if (i === isResponsiveSizes.length - 1) {\n                    lgSize = size;\n                }\n            }\n        }\n\n        const size = lgSize.split('-');\n\n        const width = parseInt(size[0], 10);\n        const height = parseInt(size[1], 10);\n\n        const cWidth = container.width();\n        const cHeight = container.height() - spacing;\n\n        const maxWidth = Math.min(cWidth, width);\n        const maxHeight = Math.min(cHeight, height);\n\n        const ratio = Math.min(maxWidth / width, maxHeight / height);\n\n        return { width: width * ratio, height: height * ratio };\n    },\n\n    /**\n     * @desc Get transform value based on the imageSize. Used for ZoomFromOrigin option\n     * @param {jQuery Element}\n     * @returns {String} Transform CSS string\n     */\n    getTransform(\n        el: HTMLElement,\n        container: lgQuery,\n        top: number,\n        bottom: number,\n        imageSize?: ImageSize,\n    ): string | undefined {\n        if (!imageSize) {\n            return;\n        }\n        const LGel = $LG(el).find('img').first();\n        if (!LGel.get()) {\n            return;\n        }\n\n        const containerRect = container.get().getBoundingClientRect();\n\n        const wWidth = containerRect.width;\n\n        // using innerWidth to include mobile safari bottom bar\n        const wHeight = container.height() - (top + bottom);\n\n        const elWidth = LGel.width();\n        const elHeight = LGel.height();\n\n        const elStyle = LGel.style();\n        let x =\n            (wWidth - elWidth) / 2 -\n            LGel.offset().left +\n            (parseFloat(elStyle.paddingLeft) || 0) +\n            (parseFloat(elStyle.borderLeft) || 0) +\n            $LG(window).scrollLeft() +\n            containerRect.left;\n        let y =\n            (wHeight - elHeight) / 2 -\n            LGel.offset().top +\n            (parseFloat(elStyle.paddingTop) || 0) +\n            (parseFloat(elStyle.borderTop) || 0) +\n            $LG(window).scrollTop() +\n            top;\n\n        const scX = elWidth / imageSize.width;\n        const scY = elHeight / imageSize.height;\n\n        const transform =\n            'translate3d(' +\n            (x *= -1) +\n            'px, ' +\n            (y *= -1) +\n            'px, 0) scale3d(' +\n            scX +\n            ', ' +\n            scY +\n            ', 1)';\n        return transform;\n    },\n\n    getIframeMarkup(\n        iframeWidth: string,\n        iframeHeight: string,\n        iframeMaxWidth: string,\n        iframeMaxHeight: string,\n        src?: string,\n        iframeTitle?: string,\n    ): string {\n        const title = iframeTitle ? 'title=\"' + iframeTitle + '\"' : '';\n        return `<div class=\"lg-video-cont lg-has-iframe\" style=\"width:${iframeWidth}; max-width:${iframeMaxWidth}; height: ${iframeHeight}; max-height:${iframeMaxHeight}\">\n                    <iframe class=\"lg-object\" frameborder=\"0\" ${title} src=\"${src}\"  allowfullscreen=\"true\"></iframe>\n                </div>`;\n    },\n\n    getImgMarkup(\n        index: number,\n        src: string,\n        altAttr: string,\n        srcset?: string,\n        sizes?: string,\n        sources?: ImageSources[],\n    ): string {\n        const srcsetAttr = srcset ? `srcset=\"${srcset}\"` : '';\n        const sizesAttr = sizes ? `sizes=\"${sizes}\"` : '';\n        const imgMarkup = `<img ${altAttr} ${srcsetAttr}  ${sizesAttr} class=\"lg-object lg-image\" data-index=\"${index}\" src=\"${src}\" />`;\n        let sourceTag = '';\n        if (sources) {\n            const sourceObj =\n                typeof sources === 'string' ? JSON.parse(sources) : sources;\n\n            sourceTag = sourceObj.map((source: any) => {\n                let attrs = '';\n                Object.keys(source).forEach((key) => {\n                    // Do not remove the first space as it is required to separate the attributes\n                    attrs += ` ${key}=\"${source[key]}\"`;\n                });\n                return `<source ${attrs}></source>`;\n            });\n        }\n        return `${sourceTag}${imgMarkup}`;\n    },\n\n    // Get src from responsive src\n    getResponsiveSrc(srcItms: string[]): string {\n        const rsWidth = [];\n        const rsSrc = [];\n        let src = '';\n        for (let i = 0; i < srcItms.length; i++) {\n            const _src = srcItms[i].split(' ');\n\n            // Manage empty space\n            if (_src[0] === '') {\n                _src.splice(0, 1);\n            }\n\n            rsSrc.push(_src[0]);\n            rsWidth.push(_src[1]);\n        }\n\n        const wWidth = window.innerWidth;\n        for (let j = 0; j < rsWidth.length; j++) {\n            if (parseInt(rsWidth[j], 10) > wWidth) {\n                src = rsSrc[j];\n                break;\n            }\n        }\n        return src;\n    },\n\n    isImageLoaded(img: HTMLImageElement): boolean {\n        if (!img) return false;\n        // During the onload event, IE correctly identifies any images that\n        // werent downloaded as not complete. Others should too. Gecko-based\n        // browsers act like NS4 in that they report this incorrectly.\n        if (!img.complete) {\n            return false;\n        }\n\n        // However, they do have two very useful properties: naturalWidth and\n        // naturalHeight. These give the true size of the image. If it failed\n        // to load, either of these should be zero.\n        if (img.naturalWidth === 0) {\n            return false;\n        }\n\n        // No other way of checking: assume its ok.\n        return true;\n    },\n\n    getVideoPosterMarkup(\n        _poster: string,\n        dummyImg: string,\n        videoContStyle: string,\n        playVideoString: string,\n        _isVideo?: VideoInfo,\n    ): string {\n        let videoClass = '';\n        if (_isVideo && _isVideo.youtube) {\n            videoClass = 'lg-has-youtube';\n        } else if (_isVideo && _isVideo.vimeo) {\n            videoClass = 'lg-has-vimeo';\n        } else {\n            videoClass = 'lg-has-html5';\n        }\n\n        return `<div class=\"lg-video-cont ${videoClass}\" style=\"${videoContStyle}\">\n                <div class=\"lg-video-play-button\">\n                <svg\n                    viewBox=\"0 0 20 20\"\n                    preserveAspectRatio=\"xMidYMid\"\n                    focusable=\"false\"\n                    aria-labelledby=\"${playVideoString}\"\n                    role=\"img\"\n                    class=\"lg-video-play-icon\"\n                >\n                    <title>${playVideoString}</title>\n                    <polygon class=\"lg-video-play-icon-inner\" points=\"1,0 20,10 1,20\"></polygon>\n                </svg>\n                <svg class=\"lg-video-play-icon-bg\" viewBox=\"0 0 50 50\" focusable=\"false\">\n                    <circle cx=\"50%\" cy=\"50%\" r=\"20\"></circle></svg>\n                <svg class=\"lg-video-play-icon-circle\" viewBox=\"0 0 50 50\" focusable=\"false\">\n                    <circle cx=\"50%\" cy=\"50%\" r=\"20\"></circle>\n                </svg>\n            </div>\n            ${dummyImg || ''}\n            <img class=\"lg-object lg-video-poster\" src=\"${_poster}\" />\n        </div>`;\n    },\n\n    getFocusableElements(container: HTMLElement): NodeListOf<Element> {\n        const elements = container.querySelectorAll(\n            'a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type=\"text\"]:not([disabled]), input[type=\"radio\"]:not([disabled]), input[type=\"checkbox\"]:not([disabled]), select:not([disabled])',\n        );\n        const visibleElements = [].filter.call(elements, (element) => {\n            const style = window.getComputedStyle(element);\n            return style.display !== 'none' && style.visibility !== 'hidden';\n        });\n        return (visibleElements as unknown) as NodeListOf<Element>;\n    },\n\n    /**\n     * @desc Create dynamic elements array from gallery items when dynamic option is false\n     * It helps to avoid frequent DOM interaction\n     * and avoid multiple checks for dynamic elments\n     *\n     * @returns {Array} dynamicEl\n     */\n    getDynamicOptions(\n        items: any,\n        extraProps: string[],\n        getCaptionFromTitleOrAlt: boolean,\n        exThumbImage: string,\n    ): GalleryItem[] {\n        const dynamicElements: GalleryItem[] = [];\n        const availableDynamicOptions = [\n            ...defaultDynamicOptions,\n            ...extraProps,\n        ];\n        [].forEach.call(items, (item: HTMLElement) => {\n            const dynamicEl: GalleryItem = {} as GalleryItem;\n            for (let i = 0; i < item.attributes.length; i++) {\n                const attr = item.attributes[i];\n                if (attr.specified) {\n                    const dynamicAttr = convertToData(attr.name);\n                    let label = '';\n                    if (availableDynamicOptions.indexOf(dynamicAttr) > -1) {\n                        label = dynamicAttr;\n                    }\n                    if (label) {\n                        (dynamicEl as any)[label] = attr.value;\n                    }\n                }\n            }\n            const currentItem = $LG(item);\n            const alt = currentItem.find('img').first().attr('alt');\n            const title = currentItem.attr('title');\n\n            const thumb = exThumbImage\n                ? currentItem.attr(exThumbImage)\n                : currentItem.find('img').first().attr('src');\n            dynamicEl.thumb = thumb;\n\n            if (getCaptionFromTitleOrAlt && !dynamicEl.subHtml) {\n                dynamicEl.subHtml = title || alt || '';\n            }\n            dynamicEl.alt = alt || title || '';\n            dynamicElements.push(dynamicEl);\n        });\n        return dynamicElements;\n    },\n    isMobile(): boolean {\n        return /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\n    },\n    /**\n     * @desc Check the given src is video\n     * @param {String} src\n     * @return {Object} video type\n     * Ex:{ youtube  :  [\"//www.youtube.com/watch?v=c0asJgSyxcY\", \"c0asJgSyxcY\"] }\n     *\n     * @todo - this information can be moved to dynamicEl to avoid frequent calls\n     */\n\n    isVideo(\n        src: string,\n        isHTML5VIdeo: boolean,\n        index: number,\n    ): VideoInfo | undefined {\n        if (!src) {\n            if (isHTML5VIdeo) {\n                return {\n                    html5: true,\n                };\n            } else {\n                console.error(\n                    'lightGallery :- data-src is not provided on slide item ' +\n                        (index + 1) +\n                        '. Please make sure the selector property is properly configured. More info - https://www.lightgalleryjs.com/demos/html-markup/',\n                );\n                return;\n            }\n        }\n\n        const youtube = src.match(\n            /\\/\\/(?:www\\.)?youtu(?:\\.be|be\\.com|be-nocookie\\.com)\\/(?:watch\\?v=|embed\\/)?([a-z0-9\\-\\_\\%]+)([\\&|?][\\S]*)*/i,\n        );\n        const vimeo = src.match(\n            /\\/\\/(?:www\\.)?(?:player\\.)?vimeo.com\\/(?:video\\/)?([0-9a-z\\-_]+)(.*)?/i,\n        );\n        const wistia = src.match(\n            /https?:\\/\\/(.+)?(wistia\\.com|wi\\.st)\\/(medias|embed)\\/([0-9a-z\\-_]+)(.*)/,\n        );\n\n        if (youtube) {\n            return {\n                youtube,\n            };\n        } else if (vimeo) {\n            return {\n                vimeo,\n            };\n        } else if (wistia) {\n            return {\n                wistia,\n            };\n        }\n    },\n};\n\nexport default utils;\n","import {\n    AfterAppendSlideEventDetail,\n    AfterAppendSubHtmlDetail,\n    BeforeSlideDetail,\n    lGEvents,\n    SlideItemLoadDetail,\n} from './lg-events';\nimport {\n    LightGalleryAllSettings,\n    lightGalleryCoreSettings,\n    LightGallerySettings,\n} from './lg-settings';\nimport utils, { GalleryItem, ImageSize } from './lg-utils';\nimport { $LG, lgQuery } from './lgQuery';\nimport {\n    Coords,\n    MediaContainerPosition,\n    SlideDirection,\n    VideoInfo,\n} from './types';\n\ndeclare let picturefill: any;\n\n// @ref - https://stackoverflow.com/questions/3971841/how-to-resize-images-proportionally-keeping-the-aspect-ratio\n// @ref - https://2ality.com/2017/04/setting-up-multi-platform-packages.html\n\n// Unique id for each gallery\nlet lgId = 0;\n\nexport class LightGallery {\n    public settings!: LightGalleryAllSettings;\n    public galleryItems!: GalleryItem[];\n\n    // Current gallery item\n    public lgId!: number;\n\n    public el!: HTMLElement;\n    public LGel!: lgQuery;\n    public lgOpened = false;\n\n    public index = 0;\n\n    // lightGallery modules\n    public plugins: any[] = [];\n\n    // false when lightGallery load first slide content;\n    public lGalleryOn = false;\n\n    // True when a slide animation is in progress\n    public lgBusy = false;\n\n    // Type of touch action - {swipe, zoomSwipe, pinch}\n    public touchAction?: 'swipe' | 'zoomSwipe' | 'pinch';\n\n    // Direction of swipe/drag - {horizontal, vertical}\n    public swipeDirection?: 'horizontal' | 'vertical';\n\n    // Timeout function for hiding controls;\n    public hideBarTimeout: any;\n\n    public currentItemsInDom: string[] = [];\n\n    public outer!: lgQuery;\n\n    public items: any;\n\n    public $backdrop!: lgQuery;\n    public $lgComponents!: lgQuery;\n\n    public $container!: lgQuery;\n\n    public $inner!: lgQuery;\n    public $content!: lgQuery;\n    public $toolbar!: lgQuery;\n\n    // Scroll top value before lightGallery is opened\n    public prevScrollTop = 0;\n\n    public bodyPaddingRight = 0;\n\n    private zoomFromOrigin!: boolean;\n\n    private currentImageSize?: ImageSize;\n\n    private isDummyImageRemoved = false;\n\n    private dragOrSwipeEnabled = false;\n\n    public mediaContainerPosition = {\n        top: 0,\n        bottom: 0,\n    };\n\n    constructor(element: HTMLElement, options?: LightGallerySettings) {\n        if (!element) {\n            return this;\n        }\n        lgId++;\n        this.lgId = lgId;\n\n        this.el = element;\n        this.LGel = $LG(element);\n\n        this.generateSettings(options);\n\n        this.buildModules();\n\n        // When using dynamic mode, ensure dynamicEl is an array\n        if (\n            this.settings.dynamic &&\n            this.settings.dynamicEl !== undefined &&\n            !Array.isArray(this.settings.dynamicEl)\n        ) {\n            throw 'When using dynamic mode, you must also define dynamicEl as an Array.';\n        }\n\n        this.galleryItems = this.getItems();\n        this.normalizeSettings();\n\n        // Gallery items\n\n        this.init();\n\n        this.validateLicense();\n\n        return this;\n    }\n\n    private generateSettings(options?: LightGallerySettings) {\n        // lightGallery settings\n        this.settings = {\n            ...lightGalleryCoreSettings,\n            ...options,\n        } as LightGalleryAllSettings;\n        if (\n            this.settings.isMobile &&\n            typeof this.settings.isMobile === 'function'\n                ? this.settings.isMobile()\n                : utils.isMobile()\n        ) {\n            const mobileSettings = {\n                ...this.settings.mobileSettings,\n                ...this.settings.mobileSettings,\n            };\n            this.settings = { ...this.settings, ...mobileSettings };\n        }\n    }\n\n    private normalizeSettings() {\n        if (this.settings.slideEndAnimation) {\n            this.settings.hideControlOnEnd = false;\n        }\n        if (!this.settings.closable) {\n            this.settings.swipeToClose = false;\n        }\n\n        // And reset it on close to get the correct value next time\n        this.zoomFromOrigin = this.settings.zoomFromOrigin;\n\n        // At the moment, Zoom from image doesn't support dynamic options\n        // @todo add zoomFromOrigin support for dynamic images\n        if (this.settings.dynamic) {\n            this.zoomFromOrigin = false;\n        }\n\n        if (!this.settings.container) {\n            this.settings.container = document.body;\n        }\n\n        // settings.preload should not be grater than $item.length\n        this.settings.preload = Math.min(\n            this.settings.preload,\n            this.galleryItems.length,\n        );\n    }\n\n    init(): void {\n        this.addSlideVideoInfo(this.galleryItems);\n\n        this.buildStructure();\n\n        this.LGel.trigger(lGEvents.init, {\n            instance: this,\n        });\n\n        if (this.settings.keyPress) {\n            this.keyPress();\n        }\n\n        setTimeout(() => {\n            this.enableDrag();\n            this.enableSwipe();\n            this.triggerPosterClick();\n        }, 50);\n\n        this.arrow();\n        if (this.settings.mousewheel) {\n            this.mousewheel();\n        }\n\n        if (!this.settings.dynamic) {\n            this.openGalleryOnItemClick();\n        }\n    }\n\n    openGalleryOnItemClick(): void {\n        // Using for loop instead of using bubbling as the items can be any html element.\n        for (let index = 0; index < this.items.length; index++) {\n            const element = this.items[index];\n            const $element = $LG(element);\n            // Using different namespace for click because click event should not unbind if selector is same object('this')\n            // @todo manage all event listners - should have namespace that represent element\n            const uuid = lgQuery.generateUUID();\n            $element\n                .attr('data-lg-id', uuid)\n                .on(`click.lgcustom-item-${uuid}`, (e) => {\n                    e.preventDefault();\n                    const currentItemIndex = this.settings.index || index;\n                    this.openGallery(currentItemIndex, element);\n                });\n        }\n    }\n\n    /**\n     * Module constructor\n     * Modules are build incrementally.\n     * Gallery should be opened only once all the modules are initialized.\n     * use moduleBuildTimeout to make sure this\n     */\n    buildModules(): void {\n        this.settings.plugins.forEach((plugin) => {\n            this.plugins.push(new plugin(this, $LG));\n        });\n    }\n\n    validateLicense(): void {\n        if (!this.settings.licenseKey) {\n            console.error('Please provide a valid license key');\n        } else if (this.settings.licenseKey === '0000-0000-000-0000') {\n            console.warn(\n                `lightGallery: ${this.settings.licenseKey} license key is not valid for production use`,\n            );\n        }\n    }\n\n    getSlideItem(index: number): lgQuery {\n        return $LG(this.getSlideItemId(index));\n    }\n\n    getSlideItemId(index: number): string {\n        return `#lg-item-${this.lgId}-${index}`;\n    }\n\n    getIdName(id: string): string {\n        return `${id}-${this.lgId}`;\n    }\n    getElementById(id: string): lgQuery {\n        return $LG(`#${this.getIdName(id)}`);\n    }\n\n    manageSingleSlideClassName(): void {\n        if (this.galleryItems.length < 2) {\n            this.outer.addClass('lg-single-item');\n        } else {\n            this.outer.removeClass('lg-single-item');\n        }\n    }\n\n    buildStructure(): void {\n        const container = this.$container && this.$container.get();\n        if (container) {\n            return;\n        }\n        let controls = '';\n        let subHtmlCont = '';\n\n        // Create controls\n        if (this.settings.controls) {\n            controls = `<button type=\"button\" id=\"${this.getIdName(\n                'lg-prev',\n            )}\" aria-label=\"${\n                this.settings.strings['previousSlide']\n            }\" class=\"lg-prev lg-icon\"> ${this.settings.prevHtml} </button>\n                <button type=\"button\" id=\"${this.getIdName(\n                    'lg-next',\n                )}\" aria-label=\"${\n                this.settings.strings['nextSlide']\n            }\" class=\"lg-next lg-icon\"> ${this.settings.nextHtml} </button>`;\n        }\n\n        if (this.settings.appendSubHtmlTo !== '.lg-item') {\n            subHtmlCont =\n                '<div class=\"lg-sub-html\" role=\"status\" aria-live=\"polite\"></div>';\n        }\n\n        let addClasses = '';\n\n        if (this.settings.allowMediaOverlap) {\n            // Do not remove space before last single quote\n            addClasses += 'lg-media-overlap ';\n        }\n\n        const ariaLabelledby = this.settings.ariaLabelledby\n            ? 'aria-labelledby=\"' + this.settings.ariaLabelledby + '\"'\n            : '';\n        const ariaDescribedby = this.settings.ariaDescribedby\n            ? 'aria-describedby=\"' + this.settings.ariaDescribedby + '\"'\n            : '';\n\n        const containerClassName = `lg-container ${this.settings.addClass} ${\n            document.body !== this.settings.container ? 'lg-inline' : ''\n        }`;\n        const closeIcon =\n            this.settings.closable && this.settings.showCloseIcon\n                ? `<button type=\"button\" aria-label=\"${\n                      this.settings.strings['closeGallery']\n                  }\" id=\"${this.getIdName(\n                      'lg-close',\n                  )}\" class=\"lg-close lg-icon\"></button>`\n                : '';\n        const maximizeIcon = this.settings.showMaximizeIcon\n            ? `<button type=\"button\" aria-label=\"${\n                  this.settings.strings['toggleMaximize']\n              }\" id=\"${this.getIdName(\n                  'lg-maximize',\n              )}\" class=\"lg-maximize lg-icon\"></button>`\n            : '';\n        const template = `\n        <div class=\"${containerClassName}\" id=\"${this.getIdName(\n            'lg-container',\n        )}\" tabindex=\"-1\" aria-modal=\"true\" ${ariaLabelledby} ${ariaDescribedby} role=\"dialog\"\n        >\n            <div id=\"${this.getIdName(\n                'lg-backdrop',\n            )}\" class=\"lg-backdrop\"></div>\n\n            <div id=\"${this.getIdName(\n                'lg-outer',\n            )}\" class=\"lg-outer lg-use-css3 lg-css3 lg-hide-items ${addClasses} \">\n\n              <div id=\"${this.getIdName('lg-content')}\" class=\"lg-content\">\n                <div id=\"${this.getIdName('lg-inner')}\" class=\"lg-inner\">\n                </div>\n                ${controls}\n              </div>\n                <div id=\"${this.getIdName(\n                    'lg-toolbar',\n                )}\" class=\"lg-toolbar lg-group\">\n                    ${maximizeIcon}\n                    ${closeIcon}\n                    </div>\n                    ${\n                        this.settings.appendSubHtmlTo === '.lg-outer'\n                            ? subHtmlCont\n                            : ''\n                    }\n                <div id=\"${this.getIdName(\n                    'lg-components',\n                )}\" class=\"lg-components\">\n                    ${\n                        this.settings.appendSubHtmlTo === '.lg-sub-html'\n                            ? subHtmlCont\n                            : ''\n                    }\n                </div>\n            </div>\n        </div>\n        `;\n\n        $LG(this.settings.container).append(template);\n\n        if (document.body !== this.settings.container) {\n            $LG(this.settings.container).css('position', 'relative');\n        }\n\n        this.outer = this.getElementById('lg-outer');\n        this.$lgComponents = this.getElementById('lg-components');\n        this.$backdrop = this.getElementById('lg-backdrop');\n        this.$container = this.getElementById('lg-container');\n        this.$inner = this.getElementById('lg-inner');\n        this.$content = this.getElementById('lg-content');\n        this.$toolbar = this.getElementById('lg-toolbar');\n\n        this.$backdrop.css(\n            'transition-duration',\n            this.settings.backdropDuration + 'ms',\n        );\n\n        let outerClassNames = `${this.settings.mode} `;\n\n        this.manageSingleSlideClassName();\n\n        if (this.settings.enableDrag) {\n            outerClassNames += 'lg-grab ';\n        }\n\n        this.outer.addClass(outerClassNames);\n\n        this.$inner.css('transition-timing-function', this.settings.easing);\n        this.$inner.css('transition-duration', this.settings.speed + 'ms');\n\n        if (this.settings.download) {\n            this.$toolbar.append(\n                `<a id=\"${this.getIdName(\n                    'lg-download',\n                )}\" target=\"_blank\" rel=\"noopener\" aria-label=\"${\n                    this.settings.strings['download']\n                }\" download class=\"lg-download lg-icon\"></a>`,\n            );\n        }\n\n        this.counter();\n\n        $LG(window).on(\n            `resize.lg.global${this.lgId} orientationchange.lg.global${this.lgId}`,\n            () => {\n                this.refreshOnResize();\n            },\n        );\n\n        this.hideBars();\n\n        this.manageCloseGallery();\n        this.toggleMaximize();\n\n        this.initModules();\n    }\n\n    refreshOnResize(): void {\n        if (this.lgOpened) {\n            const currentGalleryItem = this.galleryItems[this.index];\n            const { __slideVideoInfo } = currentGalleryItem;\n\n            this.mediaContainerPosition = this.getMediaContainerPosition();\n            const { top, bottom } = this.mediaContainerPosition;\n            this.currentImageSize = utils.getSize(\n                this.items[this.index],\n                this.outer,\n                top + bottom,\n                __slideVideoInfo && this.settings.videoMaxSize,\n            );\n            if (__slideVideoInfo) {\n                this.resizeVideoSlide(this.index, this.currentImageSize);\n            }\n            if (this.zoomFromOrigin && !this.isDummyImageRemoved) {\n                const imgStyle = this.getDummyImgStyles(this.currentImageSize);\n                this.outer\n                    .find('.lg-current .lg-dummy-img')\n                    .first()\n                    .attr('style', imgStyle);\n            }\n            this.LGel.trigger(lGEvents.containerResize);\n        }\n    }\n\n    resizeVideoSlide(index: number, imageSize?: ImageSize): void {\n        const lgVideoStyle = this.getVideoContStyle(imageSize);\n        const currentSlide = this.getSlideItem(index);\n        currentSlide.find('.lg-video-cont').attr('style', lgVideoStyle);\n    }\n\n    /**\n     * Update slides dynamically.\n     * Add, edit or delete slides dynamically when lightGallery is opened.\n     * Modify the current gallery items and pass it via updateSlides method\n     * @note\n     * - Do not mutate existing lightGallery items directly.\n     * - Always pass new list of gallery items\n     * - You need to take care of thumbnails outside the gallery if any\n     * - user this method only if you want to update slides when the gallery is opened. Otherwise, use `refresh()` method.\n     * @param items Gallery items\n     * @param index After the update operation, which slide gallery should navigate to\n     * @category lGPublicMethods\n     * @example\n     * const plugin = lightGallery();\n     *\n     * // Adding slides dynamically\n     * let galleryItems = [\n     * // Access existing lightGallery items\n     * // galleryItems are automatically generated internally from the gallery HTML markup\n     * // or directly from galleryItems when dynamic gallery is used\n     *   ...plugin.galleryItems,\n     *     ...[\n     *       {\n     *         src: 'img/img-1.png',\n     *           thumb: 'img/thumb1.png',\n     *         },\n     *     ],\n     *   ];\n     *   plugin.updateSlides(\n     *     galleryItems,\n     *     plugin.index,\n     *   );\n     *\n     *\n     * // Remove slides dynamically\n     * galleryItems = JSON.parse(\n     *   JSON.stringify(updateSlideInstance.galleryItems),\n     * );\n     * galleryItems.shift();\n     * updateSlideInstance.updateSlides(galleryItems, 1);\n     * @see <a href=\"/demos/update-slides/\">Demo</a>\n     */\n    updateSlides(items: GalleryItem[], index: number): void {\n        if (this.index > items.length - 1) {\n            this.index = items.length - 1;\n        }\n        if (items.length === 1) {\n            this.index = 0;\n        }\n        if (!items.length) {\n            this.closeGallery();\n            return;\n        }\n        const currentSrc = this.galleryItems[index].src;\n        this.galleryItems = items;\n        this.updateControls();\n        this.$inner.empty();\n        this.currentItemsInDom = [];\n\n        let _index = 0;\n        // Find the current index based on source value of the slide\n        this.galleryItems.some((galleryItem, itemIndex) => {\n            if (galleryItem.src === currentSrc) {\n                _index = itemIndex;\n                return true;\n            }\n            return false;\n        });\n\n        this.currentItemsInDom = this.organizeSlideItems(_index, -1);\n        this.loadContent(_index, true);\n        this.getSlideItem(_index).addClass('lg-current');\n\n        this.index = _index;\n        this.updateCurrentCounter(_index);\n        this.LGel.trigger(lGEvents.updateSlides);\n    }\n\n    // Get gallery items based on multiple conditions\n    getItems(): GalleryItem[] {\n        // Gallery items\n        this.items = [];\n        if (!this.settings.dynamic) {\n            if (this.settings.selector === 'this') {\n                this.items.push(this.el);\n            } else if (this.settings.selector) {\n                if (typeof this.settings.selector === 'string') {\n                    if (this.settings.selectWithin) {\n                        const selectWithin = $LG(this.settings.selectWithin);\n                        this.items = selectWithin\n                            .find(this.settings.selector)\n                            .get();\n                    } else {\n                        this.items = this.el.querySelectorAll(\n                            this.settings.selector,\n                        );\n                    }\n                } else {\n                    this.items = this.settings.selector;\n                }\n            } else {\n                this.items = this.el.children;\n            }\n            return utils.getDynamicOptions(\n                this.items,\n                this.settings.extraProps,\n                this.settings.getCaptionFromTitleOrAlt,\n                this.settings.exThumbImage,\n            );\n        } else {\n            return this.settings.dynamicEl || [];\n        }\n    }\n\n    shouldHideScrollbar(): boolean {\n        return (\n            this.settings.hideScrollbar &&\n            document.body === this.settings.container\n        );\n    }\n\n    hideScrollbar(): void {\n        if (!this.shouldHideScrollbar()) {\n            return;\n        }\n        this.bodyPaddingRight = parseFloat($LG('body').style().paddingRight);\n        const bodyRect = document.documentElement.getBoundingClientRect();\n        const scrollbarWidth = window.innerWidth - bodyRect.width;\n\n        $LG(document.body).css(\n            'padding-right',\n            scrollbarWidth + this.bodyPaddingRight + 'px',\n        );\n        $LG(document.body).addClass('lg-overlay-open');\n    }\n\n    resetScrollBar(): void {\n        if (!this.shouldHideScrollbar()) {\n            return;\n        }\n        $LG(document.body).css('padding-right', this.bodyPaddingRight + 'px');\n        $LG(document.body).removeClass('lg-overlay-open');\n    }\n\n    /**\n     * Open lightGallery.\n     * Open gallery with specific slide by passing index of the slide as parameter.\n     * @category lGPublicMethods\n     * @param {Number} index  - index of the slide\n     * @param {HTMLElement} element - Which image lightGallery should zoom from\n     *\n     * @example\n     * const $dynamicGallery = document.getElementById('dynamic-gallery-demo');\n     * const dynamicGallery = lightGallery($dynamicGallery, {\n     *     dynamic: true,\n     *     dynamicEl: [\n     *         {\n     *              src: 'img/1.jpg',\n     *              thumb: 'img/thumb-1.jpg',\n     *              subHtml: '<h4>Image 1 title</h4><p>Image 1 descriptions.</p>',\n     *         },\n     *         ...\n     *     ],\n     * });\n     * $dynamicGallery.addEventListener('click', function () {\n     *     // Starts with third item.(Optional).\n     *     // This is useful if you want use dynamic mode with\n     *     // custom thumbnails (thumbnails outside gallery),\n     *     dynamicGallery.openGallery(2);\n     * });\n     *\n     */\n    openGallery(index = this.settings.index, element?: HTMLElement): void {\n        // prevent accidental double execution\n        if (this.lgOpened) return;\n        this.lgOpened = true;\n        this.outer.removeClass('lg-hide-items');\n\n        this.hideScrollbar();\n\n        // Add display block, but still has opacity 0\n        this.$container.addClass('lg-show');\n\n        const itemsToBeInsertedToDom = this.getItemsToBeInsertedToDom(\n            index,\n            index,\n        );\n        this.currentItemsInDom = itemsToBeInsertedToDom;\n\n        let items = '';\n        itemsToBeInsertedToDom.forEach((item) => {\n            items = items + `<div id=\"${item}\" class=\"lg-item\"></div>`;\n        });\n\n        this.$inner.append(items);\n        this.addHtml(index);\n        let transform: string | undefined = '';\n        this.mediaContainerPosition = this.getMediaContainerPosition();\n        const { top, bottom } = this.mediaContainerPosition;\n        if (!this.settings.allowMediaOverlap) {\n            this.setMediaContainerPosition(top, bottom);\n        }\n        const { __slideVideoInfo } = this.galleryItems[index];\n        if (this.zoomFromOrigin && element) {\n            this.currentImageSize = utils.getSize(\n                element,\n                this.outer,\n                top + bottom,\n                __slideVideoInfo && this.settings.videoMaxSize,\n            );\n            transform = utils.getTransform(\n                element,\n                this.outer,\n                top,\n                bottom,\n                this.currentImageSize,\n            );\n        }\n        if (!this.zoomFromOrigin || !transform) {\n            this.outer.addClass(this.settings.startClass);\n            this.getSlideItem(index).removeClass('lg-complete');\n        }\n        const timeout = this.settings.zoomFromOrigin\n            ? 100\n            : this.settings.backdropDuration;\n        setTimeout(() => {\n            this.outer.addClass('lg-components-open');\n        }, timeout);\n        this.index = index;\n        this.LGel.trigger(lGEvents.beforeOpen);\n\n        // add class lg-current to remove initial transition\n        this.getSlideItem(index).addClass('lg-current');\n\n        this.lGalleryOn = false;\n        // Store the current scroll top value to scroll back after closing the gallery..\n        this.prevScrollTop = $LG(window).scrollTop();\n\n        setTimeout(() => {\n            // Need to check both zoomFromOrigin and transform values as we need to set set the\n            // default opening animation if user missed to add the lg-size attribute\n\n            if (this.zoomFromOrigin && transform) {\n                const currentSlide = this.getSlideItem(index);\n                currentSlide.css('transform', transform);\n                setTimeout(() => {\n                    currentSlide\n                        .addClass('lg-start-progress lg-start-end-progress')\n                        .css(\n                            'transition-duration',\n                            this.settings.startAnimationDuration + 'ms',\n                        );\n                    this.outer.addClass('lg-zoom-from-image');\n                });\n                setTimeout(() => {\n                    currentSlide.css('transform', 'translate3d(0, 0, 0)');\n                }, 100);\n            }\n\n            setTimeout(() => {\n                this.$backdrop.addClass('in');\n                this.$container.addClass('lg-show-in');\n            }, 10);\n\n            setTimeout(() => {\n                if (\n                    this.settings.trapFocus &&\n                    document.body === this.settings.container\n                ) {\n                    this.trapFocus();\n                }\n            }, this.settings.backdropDuration + 50);\n\n            // lg-visible class resets gallery opacity to 1\n            if (!this.zoomFromOrigin || !transform) {\n                setTimeout(() => {\n                    this.outer.addClass('lg-visible');\n                }, this.settings.backdropDuration);\n            }\n\n            // initiate slide function\n            this.slide(index, false, false, false);\n\n            this.LGel.trigger(lGEvents.afterOpen);\n        });\n\n        if (document.body === this.settings.container) {\n            $LG('html').addClass('lg-on');\n        }\n    }\n\n    /**\n     * Note - Changing the position of the media on every slide transition creates a flickering effect.\n     * Therefore,The height of the caption is calculated dynamically, only once based on the first slide caption.\n     * if you have dynamic captions for each media,\n     * you can provide an appropriate height for the captions via allowMediaOverlap option\n     */\n    public getMediaContainerPosition(): MediaContainerPosition {\n        if (this.settings.allowMediaOverlap) {\n            return {\n                top: 0,\n                bottom: 0,\n            };\n        }\n        const top = this.$toolbar.get().clientHeight || 0;\n        const subHtml = this.outer.find('.lg-components .lg-sub-html').get();\n        const captionHeight =\n            this.settings.defaultCaptionHeight ||\n            (subHtml && subHtml.clientHeight) ||\n            0;\n        const thumbContainer = this.outer.find('.lg-thumb-outer').get();\n        const thumbHeight = thumbContainer ? thumbContainer.clientHeight : 0;\n        const bottom = thumbHeight + captionHeight;\n        return {\n            top,\n            bottom,\n        };\n    }\n\n    private setMediaContainerPosition(top = 0, bottom = 0): void {\n        this.$content.css('top', top + 'px').css('bottom', bottom + 'px');\n    }\n\n    hideBars(): void {\n        // Hide controllers if mouse doesn't move for some period\n        setTimeout(() => {\n            this.outer.removeClass('lg-hide-items');\n            if (this.settings.hideBarsDelay > 0) {\n                this.outer.on('mousemove.lg click.lg touchstart.lg', () => {\n                    this.outer.removeClass('lg-hide-items');\n\n                    clearTimeout(this.hideBarTimeout);\n\n                    // Timeout will be cleared on each slide movement also\n                    this.hideBarTimeout = setTimeout(() => {\n                        this.outer.addClass('lg-hide-items');\n                    }, this.settings.hideBarsDelay);\n                });\n                this.outer.trigger('mousemove.lg');\n            }\n        }, this.settings.showBarsAfter);\n    }\n\n    initPictureFill($img: lgQuery): void {\n        if (this.settings.supportLegacyBrowser) {\n            try {\n                picturefill({\n                    elements: [$img.get()],\n                });\n            } catch (e) {\n                console.warn(\n                    'lightGallery :- If you want srcset or picture tag to be supported for older browser please include picturefil javascript library in your document.',\n                );\n            }\n        }\n    }\n\n    /**\n     *  @desc Create image counter\n     *  Ex: 1/10\n     */\n    counter(): void {\n        if (this.settings.counter) {\n            const counterHtml = `<div class=\"lg-counter\" role=\"status\" aria-live=\"polite\">\n                <span id=\"${this.getIdName(\n                    'lg-counter-current',\n                )}\" class=\"lg-counter-current\">${this.index + 1} </span> /\n                <span id=\"${this.getIdName(\n                    'lg-counter-all',\n                )}\" class=\"lg-counter-all\">${\n                this.galleryItems.length\n            } </span></div>`;\n            this.outer.find(this.settings.appendCounterTo).append(counterHtml);\n        }\n    }\n\n    /**\n     *  @desc add sub-html into the slide\n     *  @param {Number} index - index of the slide\n     */\n    addHtml(index: number): void {\n        let subHtml;\n        let subHtmlUrl;\n        if (this.galleryItems[index].subHtmlUrl) {\n            subHtmlUrl = this.galleryItems[index].subHtmlUrl;\n        } else {\n            subHtml = this.galleryItems[index].subHtml;\n        }\n\n        if (!subHtmlUrl) {\n            if (subHtml) {\n                // get first letter of sub-html\n                // if first letter starts with . or # get the html form the jQuery object\n                const fL = subHtml.substring(0, 1);\n                if (fL === '.' || fL === '#') {\n                    if (\n                        this.settings.subHtmlSelectorRelative &&\n                        !this.settings.dynamic\n                    ) {\n                        subHtml = $LG(this.items)\n                            .eq(index)\n                            .find(subHtml)\n                            .first()\n                            .html();\n                    } else {\n                        subHtml = $LG(subHtml).first().html();\n                    }\n                }\n            } else {\n                subHtml = '';\n            }\n        }\n\n        if (this.settings.appendSubHtmlTo !== '.lg-item') {\n            if (subHtmlUrl) {\n                this.outer.find('.lg-sub-html').load(subHtmlUrl);\n            } else {\n                this.outer.find('.lg-sub-html').html(subHtml as string);\n            }\n        } else {\n            const currentSlide = $LG(this.getSlideItemId(index));\n            if (subHtmlUrl) {\n                currentSlide.load(subHtmlUrl);\n            } else {\n                currentSlide.append(\n                    `<div class=\"lg-sub-html\">${subHtml}</div>`,\n                );\n            }\n        }\n\n        // Add lg-empty-html class if title doesn't exist\n        if (typeof subHtml !== 'undefined' && subHtml !== null) {\n            if (subHtml === '') {\n                this.outer\n                    .find(this.settings.appendSubHtmlTo)\n                    .addClass('lg-empty-html');\n            } else {\n                this.outer\n                    .find(this.settings.appendSubHtmlTo)\n                    .removeClass('lg-empty-html');\n            }\n        }\n\n        this.LGel.trigger<AfterAppendSubHtmlDetail>(\n            lGEvents.afterAppendSubHtml,\n            {\n                index,\n            },\n        );\n    }\n\n    /**\n     *  @desc Preload slides\n     *  @param {Number} index - index of the slide\n     * @todo preload not working for the first slide, Also, should work for the first and last slide as well\n     */\n    preload(index: number): void {\n        for (let i = 1; i <= this.settings.preload; i++) {\n            if (i >= this.galleryItems.length - index) {\n                break;\n            }\n\n            this.loadContent(index + i, false);\n        }\n\n        for (let j = 1; j <= this.settings.preload; j++) {\n            if (index - j < 0) {\n                break;\n            }\n\n            this.loadContent(index - j, false);\n        }\n    }\n\n    getDummyImgStyles(imageSize?: ImageSize): string {\n        if (!imageSize) return '';\n        return `width:${imageSize.width}px;\n                margin-left: -${imageSize.width / 2}px;\n                margin-top: -${imageSize.height / 2}px;\n                height:${imageSize.height}px`;\n    }\n    getVideoContStyle(imageSize?: ImageSize): string {\n        if (!imageSize) return '';\n        return `width:${imageSize.width}px;\n                height:${imageSize.height}px`;\n    }\n\n    getDummyImageContent(\n        $currentSlide: lgQuery,\n        index: number,\n        alt: string,\n    ): string {\n        let $currentItem;\n        if (!this.settings.dynamic) {\n            $currentItem = $LG(this.items).eq(index);\n        }\n        if ($currentItem) {\n            let _dummyImgSrc;\n            if (!this.settings.exThumbImage) {\n                _dummyImgSrc = $currentItem.find('img').first().attr('src');\n            } else {\n                _dummyImgSrc = $currentItem.attr(this.settings.exThumbImage);\n            }\n            if (!_dummyImgSrc) return '';\n            const imgStyle = this.getDummyImgStyles(this.currentImageSize);\n            const dummyImgContent = `<img ${alt} style=\"${imgStyle}\" class=\"lg-dummy-img\" src=\"${_dummyImgSrc}\" />`;\n\n            $currentSlide.addClass('lg-first-slide');\n            this.outer.addClass('lg-first-slide-loading');\n\n            return dummyImgContent;\n        }\n        return '';\n    }\n\n    setImgMarkup(src: string, $currentSlide: lgQuery, index: number): void {\n        const currentGalleryItem = this.galleryItems[index];\n        const { alt, srcset, sizes, sources } = currentGalleryItem;\n\n        // Use the thumbnail as dummy image which will be resized to actual image size and\n        // displayed on top of actual image\n        let imgContent = '';\n        const altAttr = alt ? 'alt=\"' + alt + '\"' : '';\n\n        if (this.isFirstSlideWithZoomAnimation()) {\n            imgContent = this.getDummyImageContent(\n                $currentSlide,\n                index,\n                altAttr,\n            );\n        } else {\n            imgContent = utils.getImgMarkup(\n                index,\n                src,\n                altAttr,\n                srcset,\n                sizes,\n                sources,\n            );\n        }\n        const imgMarkup = `<picture class=\"lg-img-wrap\"> ${imgContent}</picture>`;\n        $currentSlide.prepend(imgMarkup);\n    }\n\n    onSlideObjectLoad(\n        $slide: lgQuery,\n        isHTML5VideoWithoutPoster: boolean,\n        onLoad: () => void,\n        onError: () => void,\n    ): void {\n        const mediaObject = $slide.find('.lg-object').first();\n        if (\n            utils.isImageLoaded(mediaObject.get() as HTMLImageElement) ||\n            isHTML5VideoWithoutPoster\n        ) {\n            onLoad();\n        } else {\n            mediaObject.on('load.lg error.lg', () => {\n                onLoad && onLoad();\n            });\n            mediaObject.on('error.lg', () => {\n                onError && onError();\n            });\n        }\n    }\n\n    /**\n     *\n     * @param $el Current slide item\n     * @param index\n     * @param delay Delay is 0 except first time\n     * @param speed Speed is same as delay, except it is 0 if gallery is opened via hash plugin\n     * @param isFirstSlide\n     */\n    onLgObjectLoad(\n        currentSlide: lgQuery,\n        index: number,\n        delay: number,\n        speed: number,\n        isFirstSlide: boolean,\n        isHTML5VideoWithoutPoster: boolean,\n    ): void {\n        this.onSlideObjectLoad(\n            currentSlide,\n            isHTML5VideoWithoutPoster,\n            () => {\n                this.triggerSlideItemLoad(\n                    currentSlide,\n                    index,\n                    delay,\n                    speed,\n                    isFirstSlide,\n                );\n            },\n            () => {\n                currentSlide.addClass('lg-complete lg-complete_');\n                currentSlide.html(\n                    '<span class=\"lg-error-msg\">Oops... Failed to load content...</span>',\n                );\n            },\n        );\n    }\n\n    triggerSlideItemLoad(\n        $currentSlide: lgQuery,\n        index: number,\n        delay: number,\n        speed: number,\n        isFirstSlide: boolean,\n    ): void {\n        const currentGalleryItem = this.galleryItems[index];\n\n        // Adding delay for video slides without poster for better performance and user experience\n        // Videos should start playing once once the gallery is completely loaded\n        const _speed =\n            isFirstSlide &&\n            this.getSlideType(currentGalleryItem) === 'video' &&\n            !currentGalleryItem.poster\n                ? speed\n                : 0;\n        setTimeout(() => {\n            $currentSlide.addClass('lg-complete lg-complete_');\n            this.LGel.trigger<SlideItemLoadDetail>(lGEvents.slideItemLoad, {\n                index,\n                delay: delay || 0,\n                isFirstSlide,\n            });\n        }, _speed);\n    }\n\n    isFirstSlideWithZoomAnimation(): boolean {\n        return !!(\n            !this.lGalleryOn &&\n            this.zoomFromOrigin &&\n            this.currentImageSize\n        );\n    }\n\n    // Add video slideInfo\n    addSlideVideoInfo(items: GalleryItem[]): void {\n        items.forEach((element, index) => {\n            element.__slideVideoInfo = utils.isVideo(\n                element.src as string,\n                !!element.video,\n                index,\n            );\n            if (\n                element.__slideVideoInfo &&\n                this.settings.loadYouTubePoster &&\n                !element.poster &&\n                element.__slideVideoInfo.youtube\n            ) {\n                element.poster = `//img.youtube.com/vi/${element.__slideVideoInfo.youtube[1]}/maxresdefault.jpg`;\n            }\n        });\n    }\n\n    /**\n     *  Load slide content into slide.\n     *  This is used to load content into slides that is not visible too\n     *  @param {Number} index - index of the slide.\n     *  @param {Boolean} rec - if true call loadcontent() function again.\n     */\n    loadContent(index: number, rec: boolean): void {\n        const currentGalleryItem = this.galleryItems[index];\n        const $currentSlide = $LG(this.getSlideItemId(index));\n\n        const { poster, srcset, sizes, sources } = currentGalleryItem;\n        let { src } = currentGalleryItem;\n\n        const video = currentGalleryItem.video;\n\n        const _html5Video =\n            video && typeof video === 'string' ? JSON.parse(video) : video;\n\n        if (currentGalleryItem.responsive) {\n            const srcDyItms = currentGalleryItem.responsive.split(',');\n            src = utils.getResponsiveSrc(srcDyItms) || src;\n        }\n\n        const videoInfo = currentGalleryItem.__slideVideoInfo;\n        let lgVideoStyle = '';\n\n        const iframe = !!currentGalleryItem.iframe;\n\n        const isFirstSlide = !this.lGalleryOn;\n\n        // delay for adding complete class. it is 0 except first time.\n        let delay = 0;\n        if (isFirstSlide) {\n            if (this.zoomFromOrigin && this.currentImageSize) {\n                delay = this.settings.startAnimationDuration + 10;\n            } else {\n                delay = this.settings.backdropDuration + 10;\n            }\n        }\n\n        if (!$currentSlide.hasClass('lg-loaded')) {\n            if (videoInfo) {\n                const { top, bottom } = this.mediaContainerPosition;\n                const videoSize = utils.getSize(\n                    this.items[index],\n                    this.outer,\n                    top + bottom,\n                    videoInfo && this.settings.videoMaxSize,\n                );\n                lgVideoStyle = this.getVideoContStyle(videoSize);\n            }\n            if (iframe) {\n                const markup = utils.getIframeMarkup(\n                    this.settings.iframeWidth,\n                    this.settings.iframeHeight,\n                    this.settings.iframeMaxWidth,\n                    this.settings.iframeMaxHeight,\n                    src,\n                    currentGalleryItem.iframeTitle,\n                );\n                $currentSlide.prepend(markup);\n            } else if (poster) {\n                let dummyImg = '';\n                const hasStartAnimation =\n                    isFirstSlide &&\n                    this.zoomFromOrigin &&\n                    this.currentImageSize;\n                if (hasStartAnimation) {\n                    dummyImg = this.getDummyImageContent(\n                        $currentSlide,\n                        index,\n                        '',\n                    );\n                }\n\n                const markup = utils.getVideoPosterMarkup(\n                    poster,\n                    dummyImg || '',\n                    lgVideoStyle,\n                    this.settings.strings['playVideo'],\n                    videoInfo,\n                );\n                $currentSlide.prepend(markup);\n            } else if (videoInfo) {\n                const markup = `<div class=\"lg-video-cont \" style=\"${lgVideoStyle}\"></div>`;\n                $currentSlide.prepend(markup);\n            } else {\n                this.setImgMarkup(src as string, $currentSlide, index);\n                if (srcset || sources) {\n                    const $img = $currentSlide.find('.lg-object');\n                    this.initPictureFill($img);\n                }\n            }\n            if (poster || videoInfo) {\n                this.LGel.trigger(lGEvents.hasVideo, {\n                    index,\n                    src: src,\n                    html5Video: _html5Video,\n                    hasPoster: !!poster,\n                });\n            }\n\n            this.LGel.trigger<AfterAppendSlideEventDetail>(\n                lGEvents.afterAppendSlide,\n                { index },\n            );\n\n            if (\n                this.lGalleryOn &&\n                this.settings.appendSubHtmlTo === '.lg-item'\n            ) {\n                this.addHtml(index);\n            }\n        }\n\n        // For first time add some delay for displaying the start animation.\n        let _speed = 0;\n\n        // Do not change the delay value because it is required for zoom plugin.\n        // If gallery opened from direct url (hash) speed value should be 0\n        if (delay && !$LG(document.body).hasClass('lg-from-hash')) {\n            _speed = delay;\n        }\n\n        // Only for first slide and zoomFromOrigin is enabled\n        if (this.isFirstSlideWithZoomAnimation()) {\n            setTimeout(() => {\n                $currentSlide\n                    .removeClass('lg-start-end-progress lg-start-progress')\n                    .removeAttr('style');\n            }, this.settings.startAnimationDuration + 100);\n            if (!$currentSlide.hasClass('lg-loaded')) {\n                setTimeout(() => {\n                    if (this.getSlideType(currentGalleryItem) === 'image') {\n                        const { alt } = currentGalleryItem;\n                        const altAttr = alt ? 'alt=\"' + alt + '\"' : '';\n\n                        $currentSlide\n                            .find('.lg-img-wrap')\n                            .append(\n                                utils.getImgMarkup(\n                                    index,\n                                    src as string,\n                                    altAttr,\n                                    srcset,\n                                    sizes,\n                                    currentGalleryItem.sources,\n                                ),\n                            );\n                        if (srcset || sources) {\n                            const $img = $currentSlide.find('.lg-object');\n                            this.initPictureFill($img);\n                        }\n                    }\n                    if (\n                        this.getSlideType(currentGalleryItem) === 'image' ||\n                        (this.getSlideType(currentGalleryItem) === 'video' &&\n                            poster)\n                    ) {\n                        this.onLgObjectLoad(\n                            $currentSlide,\n                            index,\n                            delay,\n                            _speed,\n                            true,\n                            false,\n                        );\n\n                        // load remaining slides once the slide is completely loaded\n                        this.onSlideObjectLoad(\n                            $currentSlide,\n                            !!(videoInfo && videoInfo.html5 && !poster),\n                            () => {\n                                this.loadContentOnFirstSlideLoad(\n                                    index,\n                                    $currentSlide,\n                                    _speed,\n                                );\n                            },\n                            () => {\n                                this.loadContentOnFirstSlideLoad(\n                                    index,\n                                    $currentSlide,\n                                    _speed,\n                                );\n                            },\n                        );\n                    }\n                }, this.settings.startAnimationDuration + 100);\n            }\n        }\n\n        // SLide content has been added to dom\n        $currentSlide.addClass('lg-loaded');\n\n        if (\n            !this.isFirstSlideWithZoomAnimation() ||\n            (this.getSlideType(currentGalleryItem) === 'video' && !poster)\n        ) {\n            this.onLgObjectLoad(\n                $currentSlide,\n                index,\n                delay,\n                _speed,\n                isFirstSlide,\n                !!(videoInfo && videoInfo.html5 && !poster),\n            );\n        }\n\n        // When gallery is opened once content is loaded (second time) need to add lg-complete class for css styling\n        if (\n            (!this.zoomFromOrigin || !this.currentImageSize) &&\n            $currentSlide.hasClass('lg-complete_') &&\n            !this.lGalleryOn\n        ) {\n            setTimeout(() => {\n                $currentSlide.addClass('lg-complete');\n            }, this.settings.backdropDuration);\n        }\n\n        // Content loaded\n        // Need to set lGalleryOn before calling preload function\n        this.lGalleryOn = true;\n\n        if (rec === true) {\n            if (!$currentSlide.hasClass('lg-complete_')) {\n                $currentSlide\n                    .find('.lg-object')\n                    .first()\n                    .on('load.lg error.lg', () => {\n                        this.preload(index);\n                    });\n            } else {\n                this.preload(index);\n            }\n        }\n    }\n\n    /**\n     * @desc Remove dummy image content and load next slides\n     * Called only for the first time if zoomFromOrigin animation is enabled\n     * @param index\n     * @param $currentSlide\n     * @param speed\n     */\n    loadContentOnFirstSlideLoad(\n        index: number,\n        $currentSlide: lgQuery,\n        speed: number,\n    ): void {\n        setTimeout(() => {\n            $currentSlide.find('.lg-dummy-img').remove();\n            $currentSlide.removeClass('lg-first-slide');\n            this.outer.removeClass('lg-first-slide-loading');\n            this.isDummyImageRemoved = true;\n            this.preload(index);\n        }, speed + 300);\n    }\n\n    getItemsToBeInsertedToDom(\n        index: number,\n        prevIndex: number,\n        numberOfItems = 0,\n    ): string[] {\n        const itemsToBeInsertedToDom: string[] = [];\n        // Minimum 2 items should be there\n        let possibleNumberOfItems = Math.max(numberOfItems, 3);\n        possibleNumberOfItems = Math.min(\n            possibleNumberOfItems,\n            this.galleryItems.length,\n        );\n        const prevIndexItem = `lg-item-${this.lgId}-${prevIndex}`;\n        if (this.galleryItems.length <= 3) {\n            this.galleryItems.forEach((_element, index) => {\n                itemsToBeInsertedToDom.push(`lg-item-${this.lgId}-${index}`);\n            });\n            return itemsToBeInsertedToDom;\n        }\n\n        if (index < (this.galleryItems.length - 1) / 2) {\n            for (\n                let idx = index;\n                idx > index - possibleNumberOfItems / 2 && idx >= 0;\n                idx--\n            ) {\n                itemsToBeInsertedToDom.push(`lg-item-${this.lgId}-${idx}`);\n            }\n            const numberOfExistingItems = itemsToBeInsertedToDom.length;\n            for (\n                let idx = 0;\n                idx < possibleNumberOfItems - numberOfExistingItems;\n                idx++\n            ) {\n                itemsToBeInsertedToDom.push(\n                    `lg-item-${this.lgId}-${index + idx + 1}`,\n                );\n            }\n        } else {\n            for (\n                let idx = index;\n                idx <= this.galleryItems.length - 1 &&\n                idx < index + possibleNumberOfItems / 2;\n                idx++\n            ) {\n                itemsToBeInsertedToDom.push(`lg-item-${this.lgId}-${idx}`);\n            }\n            const numberOfExistingItems = itemsToBeInsertedToDom.length;\n            for (\n                let idx = 0;\n                idx < possibleNumberOfItems - numberOfExistingItems;\n                idx++\n            ) {\n                itemsToBeInsertedToDom.push(\n                    `lg-item-${this.lgId}-${index - idx - 1}`,\n                );\n            }\n        }\n        if (this.settings.loop) {\n            if (index === this.galleryItems.length - 1) {\n                itemsToBeInsertedToDom.push(`lg-item-${this.lgId}-${0}`);\n            } else if (index === 0) {\n                itemsToBeInsertedToDom.push(\n                    `lg-item-${this.lgId}-${this.galleryItems.length - 1}`,\n                );\n            }\n        }\n        if (itemsToBeInsertedToDom.indexOf(prevIndexItem) === -1) {\n            itemsToBeInsertedToDom.push(`lg-item-${this.lgId}-${prevIndex}`);\n        }\n\n        return itemsToBeInsertedToDom;\n    }\n\n    organizeSlideItems(index: number, prevIndex: number): string[] {\n        const itemsToBeInsertedToDom = this.getItemsToBeInsertedToDom(\n            index,\n            prevIndex,\n            this.settings.numberOfSlideItemsInDom,\n        );\n\n        itemsToBeInsertedToDom.forEach((item) => {\n            if (this.currentItemsInDom.indexOf(item) === -1) {\n                this.$inner.append(`<div id=\"${item}\" class=\"lg-item\"></div>`);\n            }\n        });\n\n        this.currentItemsInDom.forEach((item) => {\n            if (itemsToBeInsertedToDom.indexOf(item) === -1) {\n                $LG(`#${item}`).remove();\n            }\n        });\n        return itemsToBeInsertedToDom;\n    }\n\n    /**\n     * Get previous index of the slide\n     */\n    getPreviousSlideIndex(): number {\n        let prevIndex = 0;\n        try {\n            const currentItemId = this.outer\n                .find('.lg-current')\n                .first()\n                .attr('id');\n            prevIndex = parseInt(currentItemId.split('-')[3]) || 0;\n        } catch (error) {\n            prevIndex = 0;\n        }\n        return prevIndex;\n    }\n\n    setDownloadValue(index: number): void {\n        if (this.settings.download) {\n            const currentGalleryItem = this.galleryItems[index];\n            const hideDownloadBtn =\n                currentGalleryItem.downloadUrl === false ||\n                currentGalleryItem.downloadUrl === 'false';\n            if (hideDownloadBtn) {\n                this.outer.addClass('lg-hide-download');\n            } else {\n                const $download = this.getElementById('lg-download');\n                this.outer.removeClass('lg-hide-download');\n                $download.attr(\n                    'href',\n                    currentGalleryItem.downloadUrl ||\n                        (currentGalleryItem.src as string),\n                );\n                if (currentGalleryItem.download) {\n                    $download.attr('download', currentGalleryItem.download);\n                }\n            }\n        }\n    }\n\n    makeSlideAnimation(\n        direction: 'next' | 'prev',\n        currentSlideItem: lgQuery,\n        previousSlideItem: lgQuery,\n    ): void {\n        if (this.lGalleryOn) {\n            previousSlideItem.addClass('lg-slide-progress');\n        }\n        setTimeout(\n            () => {\n                // remove all transitions\n                this.outer.addClass('lg-no-trans');\n\n                this.outer\n                    .find('.lg-item')\n                    .removeClass('lg-prev-slide lg-next-slide');\n\n                if (direction === 'prev') {\n                    //prevslide\n                    currentSlideItem.addClass('lg-prev-slide');\n                    previousSlideItem.addClass('lg-next-slide');\n                } else {\n                    // next slide\n                    currentSlideItem.addClass('lg-next-slide');\n                    previousSlideItem.addClass('lg-prev-slide');\n                }\n\n                // give 50 ms for browser to add/remove class\n                setTimeout(() => {\n                    this.outer.find('.lg-item').removeClass('lg-current');\n\n                    currentSlideItem.addClass('lg-current');\n\n                    // reset all transitions\n                    this.outer.removeClass('lg-no-trans');\n                }, 50);\n            },\n            this.lGalleryOn ? this.settings.slideDelay : 0,\n        );\n    }\n\n    /**\n     * Goto a specific slide.\n     * @param {Number} index - index of the slide\n     * @param {Boolean} fromTouch - true if slide function called via touch event or mouse drag\n     * @param {Boolean} fromThumb - true if slide function called via thumbnail click\n     * @param {String} direction - Direction of the slide(next/prev)\n     * @category lGPublicMethods\n     * @example\n     *  const plugin = lightGallery();\n     *  // to go to 3rd slide\n     *  plugin.slide(2);\n     *\n     */\n    slide(\n        index: number,\n        fromTouch?: boolean,\n        fromThumb?: boolean,\n        direction?: SlideDirection | false,\n    ): void {\n        const prevIndex = this.getPreviousSlideIndex();\n        this.currentItemsInDom = this.organizeSlideItems(index, prevIndex);\n\n        // Prevent multiple call, Required for hsh plugin\n        if (this.lGalleryOn && prevIndex === index) {\n            return;\n        }\n\n        const numberOfGalleryItems = this.galleryItems.length;\n\n        if (!this.lgBusy) {\n            if (this.settings.counter) {\n                this.updateCurrentCounter(index);\n            }\n\n            const currentSlideItem = this.getSlideItem(index);\n            const previousSlideItem = this.getSlideItem(prevIndex);\n\n            const currentGalleryItem = this.galleryItems[index];\n            const videoInfo = currentGalleryItem.__slideVideoInfo;\n\n            this.outer.attr(\n                'data-lg-slide-type',\n                this.getSlideType(currentGalleryItem),\n            );\n            this.setDownloadValue(index);\n\n            if (videoInfo) {\n                const { top, bottom } = this.mediaContainerPosition;\n                const videoSize = utils.getSize(\n                    this.items[index],\n                    this.outer,\n                    top + bottom,\n                    videoInfo && this.settings.videoMaxSize,\n                );\n                this.resizeVideoSlide(index, videoSize);\n            }\n\n            this.LGel.trigger<BeforeSlideDetail>(lGEvents.beforeSlide, {\n                prevIndex,\n                index,\n                fromTouch: !!fromTouch,\n                fromThumb: !!fromThumb,\n            });\n\n            this.lgBusy = true;\n\n            clearTimeout(this.hideBarTimeout);\n\n            this.arrowDisable(index);\n\n            if (!direction) {\n                if (index < prevIndex) {\n                    direction = 'prev';\n                } else if (index > prevIndex) {\n                    direction = 'next';\n                }\n            }\n\n            if (!fromTouch) {\n                this.makeSlideAnimation(\n                    direction as SlideDirection,\n                    currentSlideItem,\n                    previousSlideItem,\n                );\n            } else {\n                this.outer\n                    .find('.lg-item')\n                    .removeClass('lg-prev-slide lg-current lg-next-slide');\n                let touchPrev;\n                let touchNext;\n                if (numberOfGalleryItems > 2) {\n                    touchPrev = index - 1;\n                    touchNext = index + 1;\n\n                    if (index === 0 && prevIndex === numberOfGalleryItems - 1) {\n                        // next slide\n                        touchNext = 0;\n                        touchPrev = numberOfGalleryItems - 1;\n                    } else if (\n                        index === numberOfGalleryItems - 1 &&\n                        prevIndex === 0\n                    ) {\n                        // prev slide\n                        touchNext = 0;\n                        touchPrev = numberOfGalleryItems - 1;\n                    }\n                } else {\n                    touchPrev = 0;\n                    touchNext = 1;\n                }\n\n                if (direction === 'prev') {\n                    this.getSlideItem(touchNext).addClass('lg-next-slide');\n                } else {\n                    this.getSlideItem(touchPrev).addClass('lg-prev-slide');\n                }\n\n                currentSlideItem.addClass('lg-current');\n            }\n\n            // Do not put load content in set timeout as it needs to load immediately when the gallery is opened\n            if (!this.lGalleryOn) {\n                this.loadContent(index, true);\n            } else {\n                setTimeout(() => {\n                    this.loadContent(index, true);\n                    // Add title if this.settings.appendSubHtmlTo === lg-sub-html\n                    if (this.settings.appendSubHtmlTo !== '.lg-item') {\n                        this.addHtml(index);\n                    }\n                }, this.settings.speed + 50 + (fromTouch ? 0 : this.settings.slideDelay));\n            }\n\n            setTimeout(() => {\n                this.lgBusy = false;\n                previousSlideItem.removeClass('lg-slide-progress');\n                this.LGel.trigger(lGEvents.afterSlide, {\n                    prevIndex: prevIndex,\n                    index,\n                    fromTouch,\n                    fromThumb,\n                });\n            }, (this.lGalleryOn ? this.settings.speed + 100 : 100) + (fromTouch ? 0 : this.settings.slideDelay));\n        }\n\n        this.index = index;\n    }\n\n    updateCurrentCounter(index: number): void {\n        this.getElementById('lg-counter-current').html(index + 1 + '');\n    }\n\n    updateCounterTotal(): void {\n        this.getElementById('lg-counter-all').html(\n            this.galleryItems.length + '',\n        );\n    }\n\n    getSlideType(item: GalleryItem): 'video' | 'iframe' | 'image' {\n        if (item.__slideVideoInfo) {\n            return 'video';\n        } else if (item.iframe) {\n            return 'iframe';\n        } else {\n            return 'image';\n        }\n    }\n\n    touchMove(startCoords: Coords, endCoords: Coords, e?: TouchEvent): void {\n        const distanceX = endCoords.pageX - startCoords.pageX;\n        const distanceY = endCoords.pageY - startCoords.pageY;\n        let allowSwipe = false;\n\n        if (this.swipeDirection) {\n            allowSwipe = true;\n        } else {\n            if (Math.abs(distanceX) > 15) {\n                this.swipeDirection = 'horizontal';\n                allowSwipe = true;\n            } else if (Math.abs(distanceY) > 15) {\n                this.swipeDirection = 'vertical';\n                allowSwipe = true;\n            }\n        }\n\n        if (!allowSwipe) {\n            return;\n        }\n\n        const $currentSlide = this.getSlideItem(this.index);\n\n        if (this.swipeDirection === 'horizontal') {\n            e?.preventDefault();\n            // reset opacity and transition duration\n            this.outer.addClass('lg-dragging');\n\n            // move current slide\n            this.setTranslate($currentSlide, distanceX, 0);\n\n            // move next and prev slide with current slide\n            const width = $currentSlide.get().offsetWidth;\n            const slideWidthAmount = (width * 15) / 100;\n            const gutter = slideWidthAmount - Math.abs((distanceX * 10) / 100);\n            this.setTranslate(\n                this.outer.find('.lg-prev-slide').first(),\n                -width + distanceX - gutter,\n                0,\n            );\n\n            this.setTranslate(\n                this.outer.find('.lg-next-slide').first(),\n                width + distanceX + gutter,\n                0,\n            );\n        } else if (this.swipeDirection === 'vertical') {\n            if (this.settings.swipeToClose) {\n                e?.preventDefault();\n                this.$container.addClass('lg-dragging-vertical');\n\n                const opacity = 1 - Math.abs(distanceY) / window.innerHeight;\n                this.$backdrop.css('opacity', opacity);\n\n                const scale = 1 - Math.abs(distanceY) / (window.innerWidth * 2);\n                this.setTranslate($currentSlide, 0, distanceY, scale, scale);\n                if (Math.abs(distanceY) > 100) {\n                    this.outer\n                        .addClass('lg-hide-items')\n                        .removeClass('lg-components-open');\n                }\n            }\n        }\n    }\n\n    touchEnd(endCoords: Coords, startCoords: Coords, event: TouchEvent): void {\n        let distance;\n\n        // keep slide animation for any mode while dragg/swipe\n        if (this.settings.mode !== 'lg-slide') {\n            this.outer.addClass('lg-slide');\n        }\n\n        // set transition duration\n        setTimeout(() => {\n            this.$container.removeClass('lg-dragging-vertical');\n            this.outer\n                .removeClass('lg-dragging lg-hide-items')\n                .addClass('lg-components-open');\n\n            let triggerClick = true;\n\n            if (this.swipeDirection === 'horizontal') {\n                distance = endCoords.pageX - startCoords.pageX;\n                const distanceAbs = Math.abs(\n                    endCoords.pageX - startCoords.pageX,\n                );\n                if (\n                    distance < 0 &&\n                    distanceAbs > this.settings.swipeThreshold\n                ) {\n                    this.goToNextSlide(true);\n                    triggerClick = false;\n                } else if (\n                    distance > 0 &&\n                    distanceAbs > this.settings.swipeThreshold\n                ) {\n                    this.goToPrevSlide(true);\n                    triggerClick = false;\n                }\n            } else if (this.swipeDirection === 'vertical') {\n                distance = Math.abs(endCoords.pageY - startCoords.pageY);\n                if (\n                    this.settings.closable &&\n                    this.settings.swipeToClose &&\n                    distance > 100\n                ) {\n                    this.closeGallery();\n                    return;\n                } else {\n                    this.$backdrop.css('opacity', 1);\n                }\n            }\n            this.outer.find('.lg-item').removeAttr('style');\n\n            if (\n                triggerClick &&\n                Math.abs(endCoords.pageX - startCoords.pageX) < 5\n            ) {\n                // Trigger click if distance is less than 5 pix\n                const target = $LG(event.target);\n                if (this.isPosterElement(target)) {\n                    this.LGel.trigger(lGEvents.posterClick);\n                }\n            }\n\n            this.swipeDirection = undefined;\n        });\n\n        // remove slide class once drag/swipe is completed if mode is not slide\n        setTimeout(() => {\n            if (\n                !this.outer.hasClass('lg-dragging') &&\n                this.settings.mode !== 'lg-slide'\n            ) {\n                this.outer.removeClass('lg-slide');\n            }\n        }, this.settings.speed + 100);\n    }\n\n    enableSwipe(): void {\n        let startCoords: Coords = {} as Coords;\n        let endCoords: Coords = {} as Coords;\n        let isMoved = false;\n        let isSwiping = false;\n\n        if (this.settings.enableSwipe) {\n            this.$inner.on('touchstart.lg', (e) => {\n                this.dragOrSwipeEnabled = true;\n                const $item = this.getSlideItem(this.index);\n                if (\n                    ($LG(e.target).hasClass('lg-item') ||\n                        $item.get().contains(e.target)) &&\n                    !this.outer.hasClass('lg-zoomed') &&\n                    !this.lgBusy &&\n                    e.touches.length === 1\n                ) {\n                    isSwiping = true;\n                    this.touchAction = 'swipe';\n                    this.manageSwipeClass();\n                    startCoords = {\n                        pageX: e.touches[0].pageX,\n                        pageY: e.touches[0].pageY,\n                    };\n                }\n            });\n\n            this.$inner.on('touchmove.lg', (e) => {\n                if (\n                    isSwiping &&\n                    this.touchAction === 'swipe' &&\n                    e.touches.length === 1\n                ) {\n                    endCoords = {\n                        pageX: e.touches[0].pageX,\n                        pageY: e.touches[0].pageY,\n                    };\n                    this.touchMove(startCoords, endCoords, e);\n                    isMoved = true;\n                }\n            });\n\n            this.$inner.on('touchend.lg', (event: TouchEvent) => {\n                if (this.touchAction === 'swipe') {\n                    if (isMoved) {\n                        isMoved = false;\n                        this.touchEnd(endCoords, startCoords, event);\n                    } else if (isSwiping) {\n                        const target = $LG(event.target);\n                        if (this.isPosterElement(target)) {\n                            this.LGel.trigger(lGEvents.posterClick);\n                        }\n                    }\n                    this.touchAction = undefined;\n                    isSwiping = false;\n                }\n            });\n        }\n    }\n\n    enableDrag(): void {\n        let startCoords: Coords = {} as Coords;\n        let endCoords: Coords = {} as Coords;\n        let isDraging = false;\n        let isMoved = false;\n        if (this.settings.enableDrag) {\n            this.outer.on('mousedown.lg', (e) => {\n                this.dragOrSwipeEnabled = true;\n                const $item = this.getSlideItem(this.index);\n                if (\n                    $LG(e.target).hasClass('lg-item') ||\n                    $item.get().contains(e.target)\n                ) {\n                    if (!this.outer.hasClass('lg-zoomed') && !this.lgBusy) {\n                        e.preventDefault();\n                        if (!this.lgBusy) {\n                            this.manageSwipeClass();\n                            startCoords = {\n                                pageX: e.pageX,\n                                pageY: e.pageY,\n                            };\n                            isDraging = true;\n\n                            // ** Fix for webkit cursor issue https://code.google.com/p/chromium/issues/detail?id=26723\n                            this.outer.get().scrollLeft += 1;\n                            this.outer.get().scrollLeft -= 1;\n\n                            // *\n\n                            this.outer\n                                .removeClass('lg-grab')\n                                .addClass('lg-grabbing');\n\n                            this.LGel.trigger(lGEvents.dragStart);\n                        }\n                    }\n                }\n            });\n\n            $LG(window).on(`mousemove.lg.global${this.lgId}`, (e) => {\n                if (isDraging && this.lgOpened) {\n                    isMoved = true;\n                    endCoords = {\n                        pageX: e.pageX,\n                        pageY: e.pageY,\n                    };\n                    this.touchMove(startCoords, endCoords);\n                    this.LGel.trigger(lGEvents.dragMove);\n                }\n            });\n\n            $LG(window).on(`mouseup.lg.global${this.lgId}`, (event) => {\n                if (!this.lgOpened) {\n                    return;\n                }\n                const target = $LG(event.target);\n                if (isMoved) {\n                    isMoved = false;\n                    this.touchEnd(endCoords, startCoords, event);\n                    this.LGel.trigger(lGEvents.dragEnd);\n                } else if (this.isPosterElement(target)) {\n                    this.LGel.trigger(lGEvents.posterClick);\n                }\n\n                // Prevent execution on click\n                if (isDraging) {\n                    isDraging = false;\n                    this.outer.removeClass('lg-grabbing').addClass('lg-grab');\n                }\n            });\n        }\n    }\n\n    triggerPosterClick(): void {\n        this.$inner.on('click.lg', (event) => {\n            if (\n                !this.dragOrSwipeEnabled &&\n                this.isPosterElement($LG(event.target))\n            ) {\n                this.LGel.trigger(lGEvents.posterClick);\n            }\n        });\n    }\n\n    manageSwipeClass(): void {\n        let _touchNext = this.index + 1;\n        let _touchPrev = this.index - 1;\n        if (this.settings.loop && this.galleryItems.length > 2) {\n            if (this.index === 0) {\n                _touchPrev = this.galleryItems.length - 1;\n            } else if (this.index === this.galleryItems.length - 1) {\n                _touchNext = 0;\n            }\n        }\n\n        this.outer.find('.lg-item').removeClass('lg-next-slide lg-prev-slide');\n        if (_touchPrev > -1) {\n            this.getSlideItem(_touchPrev).addClass('lg-prev-slide');\n        }\n\n        this.getSlideItem(_touchNext).addClass('lg-next-slide');\n    }\n\n    /**\n     * Go to next slide\n     * @param {Boolean} fromTouch - true if slide function called via touch event\n     * @category lGPublicMethods\n     * @example\n     *  const plugin = lightGallery();\n     *  plugin.goToNextSlide();\n     * @see <a href=\"/demos/methods/\">Demo</a>\n     */\n    goToNextSlide(fromTouch?: boolean): void {\n        let _loop = this.settings.loop;\n        if (fromTouch && this.galleryItems.length < 3) {\n            _loop = false;\n        }\n\n        if (!this.lgBusy) {\n            if (this.index + 1 < this.galleryItems.length) {\n                this.index++;\n                this.LGel.trigger(lGEvents.beforeNextSlide, {\n                    index: this.index,\n                });\n                this.slide(this.index, !!fromTouch, false, 'next');\n            } else {\n                if (_loop) {\n                    this.index = 0;\n                    this.LGel.trigger(lGEvents.beforeNextSlide, {\n                        index: this.index,\n                    });\n                    this.slide(this.index, !!fromTouch, false, 'next');\n                } else if (this.settings.slideEndAnimation && !fromTouch) {\n                    this.outer.addClass('lg-right-end');\n                    setTimeout(() => {\n                        this.outer.removeClass('lg-right-end');\n                    }, 400);\n                }\n            }\n        }\n    }\n\n    /**\n     * Go to previous slides\n     * @param {Boolean} fromTouch - true if slide function called via touch event\n     * @category lGPublicMethods\n     * @example\n     *  const plugin = lightGallery({});\n     *  plugin.goToPrevSlide();\n     * @see <a href=\"/demos/methods/\">Demo</a>\n     *\n     */\n    goToPrevSlide(fromTouch?: boolean): void {\n        let _loop = this.settings.loop;\n        if (fromTouch && this.galleryItems.length < 3) {\n            _loop = false;\n        }\n\n        if (!this.lgBusy) {\n            if (this.index > 0) {\n                this.index--;\n                this.LGel.trigger(lGEvents.beforePrevSlide, {\n                    index: this.index,\n                    fromTouch,\n                });\n                this.slide(this.index, !!fromTouch, false, 'prev');\n            } else {\n                if (_loop) {\n                    this.index = this.galleryItems.length - 1;\n                    this.LGel.trigger(lGEvents.beforePrevSlide, {\n                        index: this.index,\n                        fromTouch,\n                    });\n                    this.slide(this.index, !!fromTouch, false, 'prev');\n                } else if (this.settings.slideEndAnimation && !fromTouch) {\n                    this.outer.addClass('lg-left-end');\n                    setTimeout(() => {\n                        this.outer.removeClass('lg-left-end');\n                    }, 400);\n                }\n            }\n        }\n    }\n\n    keyPress(): void {\n        $LG(window).on(`keydown.lg.global${this.lgId}`, (e) => {\n            if (\n                this.lgOpened &&\n                this.settings.escKey === true &&\n                e.keyCode === 27\n            ) {\n                e.preventDefault();\n                if (\n                    this.settings.allowMediaOverlap &&\n                    this.outer.hasClass('lg-can-toggle') &&\n                    this.outer.hasClass('lg-components-open')\n                ) {\n                    this.outer.removeClass('lg-components-open');\n                } else {\n                    this.closeGallery();\n                }\n            }\n            if (this.lgOpened && this.galleryItems.length > 1) {\n                if (e.keyCode === 37) {\n                    e.preventDefault();\n                    this.goToPrevSlide();\n                }\n\n                if (e.keyCode === 39) {\n                    e.preventDefault();\n                    this.goToNextSlide();\n                }\n            }\n        });\n    }\n\n    arrow(): void {\n        this.getElementById('lg-prev').on('click.lg', () => {\n            this.goToPrevSlide();\n        });\n        this.getElementById('lg-next').on('click.lg', () => {\n            this.goToNextSlide();\n        });\n    }\n\n    arrowDisable(index: number): void {\n        // Disable arrows if settings.hideControlOnEnd is true\n        if (!this.settings.loop && this.settings.hideControlOnEnd) {\n            const $prev = this.getElementById('lg-prev');\n            const $next = this.getElementById('lg-next');\n            if (index + 1 === this.galleryItems.length) {\n                $next.attr('disabled', 'disabled').addClass('disabled');\n            } else {\n                $next.removeAttr('disabled').removeClass('disabled');\n            }\n\n            if (index === 0) {\n                $prev.attr('disabled', 'disabled').addClass('disabled');\n            } else {\n                $prev.removeAttr('disabled').removeClass('disabled');\n            }\n        }\n    }\n\n    setTranslate(\n        $el: lgQuery,\n        xValue: number,\n        yValue: number,\n        scaleX = 1,\n        scaleY = 1,\n    ): void {\n        $el.css(\n            'transform',\n            'translate3d(' +\n                xValue +\n                'px, ' +\n                yValue +\n                'px, 0px) scale3d(' +\n                scaleX +\n                ', ' +\n                scaleY +\n                ', 1)',\n        );\n    }\n\n    mousewheel(): void {\n        let lastCall = 0;\n        this.outer.on('wheel.lg', (e) => {\n            if (!e.deltaY || this.galleryItems.length < 2) {\n                return;\n            }\n            e.preventDefault();\n            const now = new Date().getTime();\n            if (now - lastCall < 1000) {\n                return;\n            }\n            lastCall = now;\n            if (e.deltaY > 0) {\n                this.goToNextSlide();\n            } else if (e.deltaY < 0) {\n                this.goToPrevSlide();\n            }\n        });\n    }\n\n    isSlideElement(target: lgQuery): boolean {\n        return (\n            target.hasClass('lg-outer') ||\n            target.hasClass('lg-item') ||\n            target.hasClass('lg-img-wrap')\n        );\n    }\n\n    isPosterElement(target: lgQuery): boolean {\n        const playButton = this.getSlideItem(this.index)\n            .find('.lg-video-play-button')\n            .get();\n        return (\n            target.hasClass('lg-video-poster') ||\n            target.hasClass('lg-video-play-button') ||\n            (playButton && playButton.contains(target.get()))\n        );\n    }\n\n    /**\n     * Maximize minimize inline gallery.\n     * @category lGPublicMethods\n     */\n    toggleMaximize(): void {\n        this.getElementById('lg-maximize').on('click.lg', () => {\n            this.$container.toggleClass('lg-inline');\n            this.refreshOnResize();\n        });\n    }\n\n    invalidateItems(): void {\n        for (let index = 0; index < this.items.length; index++) {\n            const element = this.items[index];\n            const $element = $LG(element);\n            $element.off(`click.lgcustom-item-${$element.attr('data-lg-id')}`);\n        }\n    }\n\n    trapFocus(): void {\n        this.$container.get().focus({\n            preventScroll: true,\n        });\n        $LG(window).on(`keydown.lg.global${this.lgId}`, (e) => {\n            if (!this.lgOpened) {\n                return;\n            }\n\n            const isTabPressed = e.key === 'Tab' || e.keyCode === 9;\n            if (!isTabPressed) {\n                return;\n            }\n            const focusableEls = utils.getFocusableElements(\n                this.$container.get(),\n            );\n            const firstFocusableEl = focusableEls[0];\n            const lastFocusableEl = focusableEls[focusableEls.length - 1];\n\n            if (e.shiftKey) {\n                if (document.activeElement === firstFocusableEl) {\n                    (lastFocusableEl as HTMLElement).focus();\n                    e.preventDefault();\n                }\n            } else {\n                if (document.activeElement === lastFocusableEl) {\n                    (firstFocusableEl as HTMLElement).focus();\n                    e.preventDefault();\n                }\n            }\n        });\n    }\n\n    manageCloseGallery(): void {\n        if (!this.settings.closable) return;\n        let mousedown = false;\n        this.getElementById('lg-close').on('click.lg', () => {\n            this.closeGallery();\n        });\n\n        if (this.settings.closeOnTap) {\n            // If you drag the slide and release outside gallery gets close on chrome\n            // for preventing this check mousedown and mouseup happened on .lg-item or lg-outer\n            this.outer.on('mousedown.lg', (e) => {\n                const target = $LG(e.target);\n                if (this.isSlideElement(target)) {\n                    mousedown = true;\n                } else {\n                    mousedown = false;\n                }\n            });\n\n            this.outer.on('mousemove.lg', () => {\n                mousedown = false;\n            });\n\n            this.outer.on('mouseup.lg', (e) => {\n                const target = $LG(e.target);\n                if (this.isSlideElement(target) && mousedown) {\n                    if (!this.outer.hasClass('lg-dragging')) {\n                        this.closeGallery();\n                    }\n                }\n            });\n        }\n    }\n\n    /**\n     * Close lightGallery if it is opened.\n     *\n     * @description If closable is false in the settings, you need to pass true via closeGallery method to force close gallery\n     * @return returns the estimated time to close gallery completely including the close animation duration\n     * @category lGPublicMethods\n     * @example\n     *  const plugin = lightGallery();\n     *  plugin.closeGallery();\n     *\n     */\n    closeGallery(force?: boolean): number {\n        if (!this.lgOpened || (!this.settings.closable && !force)) {\n            return 0;\n        }\n        this.LGel.trigger(lGEvents.beforeClose);\n\n        if (this.settings.resetScrollPosition && !this.settings.hideScrollbar) {\n            $LG(window).scrollTop(this.prevScrollTop);\n        }\n\n        const currentItem = this.items[this.index];\n        let transform: string | undefined;\n        if (this.zoomFromOrigin && currentItem) {\n            const { top, bottom } = this.mediaContainerPosition;\n            const { __slideVideoInfo, poster } = this.galleryItems[this.index];\n            const imageSize = utils.getSize(\n                currentItem,\n                this.outer,\n                top + bottom,\n                __slideVideoInfo && poster && this.settings.videoMaxSize,\n            );\n            transform = utils.getTransform(\n                currentItem,\n                this.outer,\n                top,\n                bottom,\n                imageSize,\n            );\n        }\n        if (this.zoomFromOrigin && transform) {\n            this.outer.addClass('lg-closing lg-zoom-from-image');\n            this.getSlideItem(this.index)\n                .addClass('lg-start-end-progress')\n                .css(\n                    'transition-duration',\n                    this.settings.startAnimationDuration + 'ms',\n                )\n                .css('transform', transform);\n        } else {\n            this.outer.addClass('lg-hide-items');\n            // lg-zoom-from-image is used for setting the opacity to 1 if zoomFromOrigin is true\n            // If the closing item doesn't have the lg-size attribute, remove this class to avoid the closing css conflicts\n            this.outer.removeClass('lg-zoom-from-image');\n        }\n\n        // Unbind all events added by lightGallery\n        // @todo\n        //this.$el.off('.lg.tm');\n\n        this.destroyModules();\n\n        this.lGalleryOn = false;\n        this.isDummyImageRemoved = false;\n        this.zoomFromOrigin = this.settings.zoomFromOrigin;\n\n        clearTimeout(this.hideBarTimeout);\n        this.hideBarTimeout = false;\n        $LG('html').removeClass('lg-on');\n\n        this.outer.removeClass('lg-visible lg-components-open');\n\n        // Resetting opacity to 0 isd required as  vertical swipe to close function adds inline opacity.\n        this.$backdrop.removeClass('in').css('opacity', 0);\n\n        const removeTimeout =\n            this.zoomFromOrigin && transform\n                ? Math.max(\n                      this.settings.startAnimationDuration,\n                      this.settings.backdropDuration,\n                  )\n                : this.settings.backdropDuration;\n        this.$container.removeClass('lg-show-in');\n\n        // Once the closign animation is completed and gallery is invisible\n        setTimeout(() => {\n            if (this.zoomFromOrigin && transform) {\n                this.outer.removeClass('lg-zoom-from-image');\n            }\n            this.$container.removeClass('lg-show');\n\n            // Reset scrollbar\n            this.resetScrollBar();\n\n            // Need to remove inline opacity as it is used in the stylesheet as well\n            this.$backdrop\n                .removeAttr('style')\n                .css(\n                    'transition-duration',\n                    this.settings.backdropDuration + 'ms',\n                );\n\n            this.outer.removeClass(`lg-closing ${this.settings.startClass}`);\n\n            this.getSlideItem(this.index).removeClass('lg-start-end-progress');\n            this.$inner.empty();\n            if (this.lgOpened) {\n                this.LGel.trigger(lGEvents.afterClose, {\n                    instance: this,\n                });\n            }\n            if (this.$container.get()) {\n                this.$container.get().blur();\n            }\n\n            this.lgOpened = false;\n        }, removeTimeout + 100);\n        return removeTimeout + 100;\n    }\n\n    initModules(): void {\n        this.plugins.forEach((module) => {\n            try {\n                module.init();\n            } catch (err) {\n                console.warn(\n                    `lightGallery:- make sure lightGallery module is properly initiated`,\n                );\n            }\n        });\n    }\n\n    destroyModules(destroy?: true): void {\n        this.plugins.forEach((module) => {\n            try {\n                if (destroy) {\n                    module.destroy();\n                } else {\n                    module.closeGallery && module.closeGallery();\n                }\n            } catch (err) {\n                console.warn(\n                    `lightGallery:- make sure lightGallery module is properly destroyed`,\n                );\n            }\n        });\n    }\n\n    /**\n     * Refresh lightGallery with new set of children.\n     *\n     * @description This is useful to update the gallery when the child elements are changed without calling destroy method.\n     *\n     * If you are using dynamic mode, you can pass the modified array of dynamicEl as the first parameter to refresh the dynamic gallery\n     * @see <a href=\"/demos/dynamic-mode/\">Demo</a>\n     * @category lGPublicMethods\n     * @example\n     *  const plugin = lightGallery();\n     *  // Delete or add children, then call\n     *  plugin.refresh();\n     *\n     */\n    refresh(galleryItems?: GalleryItem[]): void {\n        if (!this.settings.dynamic) {\n            this.invalidateItems();\n        }\n        if (galleryItems) {\n            this.galleryItems = galleryItems;\n        } else {\n            this.galleryItems = this.getItems();\n        }\n        this.updateControls();\n        this.openGalleryOnItemClick();\n        this.LGel.trigger(lGEvents.updateSlides);\n    }\n\n    updateControls(): void {\n        this.addSlideVideoInfo(this.galleryItems);\n        this.updateCounterTotal();\n        this.manageSingleSlideClassName();\n    }\n\n    private destroyGallery(): void {\n        this.destroyModules(true);\n        if (!this.settings.dynamic) {\n            this.invalidateItems();\n        }\n        $LG(window).off(`.lg.global${this.lgId}`);\n        this.LGel.off('.lg');\n        this.$container.remove();\n    }\n\n    /**\n     * Destroy lightGallery.\n     * Destroy lightGallery and its plugin instances completely\n     *\n     * @description This method also calls CloseGallery function internally. Returns the time takes to completely close and destroy the instance.\n     * In case if you want to re-initialize lightGallery right after destroying it, initialize it only once the destroy process is completed.\n     * You can use refresh method most of the times.\n     * @category lGPublicMethods\n     * @example\n     *  const plugin = lightGallery();\n     *  plugin.destroy();\n     *\n     */\n    destroy(): number {\n        const closeTimeout = this.closeGallery(true);\n        if (closeTimeout) {\n            setTimeout(this.destroyGallery.bind(this), closeTimeout);\n        } else {\n            this.destroyGallery();\n        }\n        return closeTimeout;\n    }\n}\n","/**\n * lightgallery | 2.7.1 | January 11th 2023\n * http://www.lightgalleryjs.com/\n * Copyright (c) 2020 Sachin Neravath;\n * @license GPLv3\n */\n\n!function(t,o){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=o():\"function\"==typeof define&&define.amd?define(o):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).lgAutoplay=o()}(this,(function(){\"use strict\";var t=function(){return(t=Object.assign||function(t){for(var o,e=1,s=arguments.length;e<s;e++)for(var r in o=arguments[e])Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);return t}).apply(this,arguments)},o=\"lgSlideItemLoad\",e=\"lgBeforeSlide\",s=\"lgAfterSlide\",r=\"lgDragStart\",i=\"lgDragEnd\",a=\"lgAutoplay\",l=\"lgAutoplayStart\",n=\"lgAutoplayStop\",u={autoplay:!0,slideShowAutoplay:!1,slideShowInterval:5e3,progressBar:!0,forceSlideShowAutoplay:!1,autoplayControls:!0,appendAutoplayControlsTo:\".lg-toolbar\",autoplayPluginStrings:{toggleAutoplay:\"Toggle Autoplay\"}};return function(){function p(o){return this.core=o,this.settings=t(t({},u),this.core.settings),this}return p.prototype.init=function(){var t=this;this.settings.autoplay&&(this.interval=!1,this.fromAuto=!0,this.pausedOnTouchDrag=!1,this.pausedOnSlideChange=!1,this.settings.autoplayControls&&this.controls(),this.settings.progressBar&&this.core.outer.append('<div class=\"lg-progress-bar\"><div class=\"lg-progress\"></div></div>'),this.settings.slideShowAutoplay&&this.core.LGel.once(o+\".autoplay\",(function(){t.startAutoPlay()})),this.core.LGel.on(r+\".autoplay touchstart.lg.autoplay\",(function(){t.interval&&(t.stopAutoPlay(),t.pausedOnTouchDrag=!0)})),this.core.LGel.on(i+\".autoplay touchend.lg.autoplay\",(function(){!t.interval&&t.pausedOnTouchDrag&&(t.startAutoPlay(),t.pausedOnTouchDrag=!1)})),this.core.LGel.on(e+\".autoplay\",(function(){t.showProgressBar(),!t.fromAuto&&t.interval?(t.stopAutoPlay(),t.pausedOnSlideChange=!0):t.pausedOnSlideChange=!1,t.fromAuto=!1})),this.core.LGel.on(s+\".autoplay\",(function(){t.pausedOnSlideChange&&!t.interval&&t.settings.forceSlideShowAutoplay&&(t.startAutoPlay(),t.pausedOnSlideChange=!1)})),this.showProgressBar())},p.prototype.showProgressBar=function(){var t=this;if(this.settings.progressBar&&this.fromAuto){var o=this.core.outer.find(\".lg-progress-bar\"),e=this.core.outer.find(\".lg-progress\");this.interval&&(e.removeAttr(\"style\"),o.removeClass(\"lg-start\"),setTimeout((function(){e.css(\"transition\",\"width \"+(t.core.settings.speed+t.settings.slideShowInterval)+\"ms ease 0s\"),o.addClass(\"lg-start\")}),20))}},p.prototype.controls=function(){var t=this,o='<button aria-label=\"'+this.settings.autoplayPluginStrings.toggleAutoplay+'\" type=\"button\" class=\"lg-autoplay-button lg-icon\"></button>';this.core.outer.find(this.settings.appendAutoplayControlsTo).append(o),this.core.outer.find(\".lg-autoplay-button\").first().on(\"click.lg.autoplay\",(function(){t.core.outer.hasClass(\"lg-show-autoplay\")?t.stopAutoPlay():t.interval||t.startAutoPlay()}))},p.prototype.startAutoPlay=function(){var t=this;this.core.outer.find(\".lg-progress\").css(\"transition\",\"width \"+(this.core.settings.speed+this.settings.slideShowInterval)+\"ms ease 0s\"),this.core.outer.addClass(\"lg-show-autoplay\"),this.core.outer.find(\".lg-progress-bar\").addClass(\"lg-start\"),this.core.LGel.trigger(l,{index:this.core.index}),this.interval=setInterval((function(){t.core.index+1<t.core.galleryItems.length?t.core.index++:t.core.index=0,t.core.LGel.trigger(a,{index:t.core.index}),t.fromAuto=!0,t.core.slide(t.core.index,!1,!1,\"next\")}),this.core.settings.speed+this.settings.slideShowInterval)},p.prototype.stopAutoPlay=function(){this.interval&&(this.core.LGel.trigger(n,{index:this.core.index}),this.core.outer.find(\".lg-progress\").removeAttr(\"style\"),this.core.outer.removeClass(\"lg-show-autoplay\"),this.core.outer.find(\".lg-progress-bar\").removeClass(\"lg-start\")),clearInterval(this.interval),this.interval=!1},p.prototype.closeGallery=function(){this.stopAutoPlay()},p.prototype.destroy=function(){this.settings.autoplay&&this.core.outer.find(\".lg-progress-bar\").remove(),this.core.LGel.off(\".lg.autoplay\"),this.core.LGel.off(\".autoplay\")},p}()}));\n","/**\n * lightgallery | 2.7.1 | January 11th 2023\n * http://www.lightgalleryjs.com/\n * Copyright (c) 2020 Sachin Neravath;\n * @license GPLv3\n */\n\n!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).lgThumbnail=e()}(this,(function(){\"use strict\";var t=function(){return(t=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var h in e=arguments[i])Object.prototype.hasOwnProperty.call(e,h)&&(t[h]=e[h]);return t}).apply(this,arguments)},e={thumbnail:!0,animateThumb:!0,currentPagerPosition:\"middle\",alignThumbnails:\"middle\",thumbWidth:100,thumbHeight:\"80px\",thumbMargin:5,appendThumbnailsTo:\".lg-components\",toggleThumb:!1,enableThumbDrag:!0,enableThumbSwipe:!0,thumbnailSwipeThreshold:10,loadYouTubeThumbnail:!0,youTubeThumbSize:1,thumbnailPluginStrings:{toggleThumbnails:\"Toggle thumbnails\"}},i=\"lgContainerResize\",s=\"lgUpdateSlides\",h=\"lgBeforeOpen\",n=\"lgBeforeSlide\";return function(){function o(t,e){return this.thumbOuterWidth=0,this.thumbTotalWidth=0,this.translateX=0,this.thumbClickable=!1,this.core=t,this.$LG=e,this}return o.prototype.init=function(){this.settings=t(t({},e),this.core.settings),this.thumbOuterWidth=0,this.thumbTotalWidth=this.core.galleryItems.length*(this.settings.thumbWidth+this.settings.thumbMargin),this.translateX=0,this.setAnimateThumbStyles(),this.core.settings.allowMediaOverlap||(this.settings.toggleThumb=!1),this.settings.thumbnail&&(this.build(),this.settings.animateThumb?(this.settings.enableThumbDrag&&this.enableThumbDrag(),this.settings.enableThumbSwipe&&this.enableThumbSwipe(),this.thumbClickable=!1):this.thumbClickable=!0,this.toggleThumbBar(),this.thumbKeyPress())},o.prototype.build=function(){var t=this;this.setThumbMarkup(),this.manageActiveClassOnSlideChange(),this.$lgThumb.first().on(\"click.lg touchend.lg\",(function(e){var i=t.$LG(e.target);i.hasAttribute(\"data-lg-item-id\")&&setTimeout((function(){if(t.thumbClickable&&!t.core.lgBusy){var e=parseInt(i.attr(\"data-lg-item-id\"));t.core.slide(e,!1,!0,!1)}}),50)})),this.core.LGel.on(n+\".thumb\",(function(e){var i=e.detail.index;t.animateThumb(i)})),this.core.LGel.on(h+\".thumb\",(function(){t.thumbOuterWidth=t.core.outer.get().offsetWidth})),this.core.LGel.on(s+\".thumb\",(function(){t.rebuildThumbnails()})),this.core.LGel.on(i+\".thumb\",(function(){t.core.lgOpened&&setTimeout((function(){t.thumbOuterWidth=t.core.outer.get().offsetWidth,t.animateThumb(t.core.index),t.thumbOuterWidth=t.core.outer.get().offsetWidth}),50)}))},o.prototype.setThumbMarkup=function(){var t=\"lg-thumb-outer \";this.settings.alignThumbnails&&(t+=\"lg-thumb-align-\"+this.settings.alignThumbnails);var e='<div class=\"'+t+'\">\\n        <div class=\"lg-thumb lg-group\">\\n        </div>\\n        </div>';this.core.outer.addClass(\"lg-has-thumb\"),\".lg-components\"===this.settings.appendThumbnailsTo?this.core.$lgComponents.append(e):this.core.outer.append(e),this.$thumbOuter=this.core.outer.find(\".lg-thumb-outer\").first(),this.$lgThumb=this.core.outer.find(\".lg-thumb\").first(),this.settings.animateThumb&&this.core.outer.find(\".lg-thumb\").css(\"transition-duration\",this.core.settings.speed+\"ms\").css(\"width\",this.thumbTotalWidth+\"px\").css(\"position\",\"relative\"),this.setThumbItemHtml(this.core.galleryItems)},o.prototype.enableThumbDrag=function(){var t=this,e={cords:{startX:0,endX:0},isMoved:!1,newTranslateX:0,startTime:new Date,endTime:new Date,touchMoveTime:0},i=!1;this.$thumbOuter.addClass(\"lg-grab\"),this.core.outer.find(\".lg-thumb\").first().on(\"mousedown.lg.thumb\",(function(s){t.thumbTotalWidth>t.thumbOuterWidth&&(s.preventDefault(),e.cords.startX=s.pageX,e.startTime=new Date,t.thumbClickable=!1,i=!0,t.core.outer.get().scrollLeft+=1,t.core.outer.get().scrollLeft-=1,t.$thumbOuter.removeClass(\"lg-grab\").addClass(\"lg-grabbing\"))})),this.$LG(window).on(\"mousemove.lg.thumb.global\"+this.core.lgId,(function(s){t.core.lgOpened&&i&&(e.cords.endX=s.pageX,e=t.onThumbTouchMove(e))})),this.$LG(window).on(\"mouseup.lg.thumb.global\"+this.core.lgId,(function(){t.core.lgOpened&&(e.isMoved?e=t.onThumbTouchEnd(e):t.thumbClickable=!0,i&&(i=!1,t.$thumbOuter.removeClass(\"lg-grabbing\").addClass(\"lg-grab\")))}))},o.prototype.enableThumbSwipe=function(){var t=this,e={cords:{startX:0,endX:0},isMoved:!1,newTranslateX:0,startTime:new Date,endTime:new Date,touchMoveTime:0};this.$lgThumb.on(\"touchstart.lg\",(function(i){t.thumbTotalWidth>t.thumbOuterWidth&&(i.preventDefault(),e.cords.startX=i.targetTouches[0].pageX,t.thumbClickable=!1,e.startTime=new Date)})),this.$lgThumb.on(\"touchmove.lg\",(function(i){t.thumbTotalWidth>t.thumbOuterWidth&&(i.preventDefault(),e.cords.endX=i.targetTouches[0].pageX,e=t.onThumbTouchMove(e))})),this.$lgThumb.on(\"touchend.lg\",(function(){e.isMoved?e=t.onThumbTouchEnd(e):t.thumbClickable=!0}))},o.prototype.rebuildThumbnails=function(){var t=this;this.$thumbOuter.addClass(\"lg-rebuilding-thumbnails\"),setTimeout((function(){t.thumbTotalWidth=t.core.galleryItems.length*(t.settings.thumbWidth+t.settings.thumbMargin),t.$lgThumb.css(\"width\",t.thumbTotalWidth+\"px\"),t.$lgThumb.empty(),t.setThumbItemHtml(t.core.galleryItems),t.animateThumb(t.core.index)}),50),setTimeout((function(){t.$thumbOuter.removeClass(\"lg-rebuilding-thumbnails\")}),200)},o.prototype.setTranslate=function(t){this.$lgThumb.css(\"transform\",\"translate3d(-\"+t+\"px, 0px, 0px)\")},o.prototype.getPossibleTransformX=function(t){return t>this.thumbTotalWidth-this.thumbOuterWidth&&(t=this.thumbTotalWidth-this.thumbOuterWidth),t<0&&(t=0),t},o.prototype.animateThumb=function(t){if(this.$lgThumb.css(\"transition-duration\",this.core.settings.speed+\"ms\"),this.settings.animateThumb){var e=0;switch(this.settings.currentPagerPosition){case\"left\":e=0;break;case\"middle\":e=this.thumbOuterWidth/2-this.settings.thumbWidth/2;break;case\"right\":e=this.thumbOuterWidth-this.settings.thumbWidth}this.translateX=(this.settings.thumbWidth+this.settings.thumbMargin)*t-1-e,this.translateX>this.thumbTotalWidth-this.thumbOuterWidth&&(this.translateX=this.thumbTotalWidth-this.thumbOuterWidth),this.translateX<0&&(this.translateX=0),this.setTranslate(this.translateX)}},o.prototype.onThumbTouchMove=function(t){return t.newTranslateX=this.translateX,t.isMoved=!0,t.touchMoveTime=(new Date).valueOf(),t.newTranslateX-=t.cords.endX-t.cords.startX,t.newTranslateX=this.getPossibleTransformX(t.newTranslateX),this.setTranslate(t.newTranslateX),this.$thumbOuter.addClass(\"lg-dragging\"),t},o.prototype.onThumbTouchEnd=function(t){t.isMoved=!1,t.endTime=new Date,this.$thumbOuter.removeClass(\"lg-dragging\");var e=t.endTime.valueOf()-t.startTime.valueOf(),i=t.cords.endX-t.cords.startX,s=Math.abs(i)/e;return s>.15&&t.endTime.valueOf()-t.touchMoveTime<30?((s+=1)>2&&(s+=1),s+=s*(Math.abs(i)/this.thumbOuterWidth),this.$lgThumb.css(\"transition-duration\",Math.min(s-1,2)+\"settings\"),i*=s,this.translateX=this.getPossibleTransformX(this.translateX-i),this.setTranslate(this.translateX)):this.translateX=t.newTranslateX,Math.abs(t.cords.endX-t.cords.startX)<this.settings.thumbnailSwipeThreshold&&(this.thumbClickable=!0),t},o.prototype.getThumbHtml=function(t,e){var i,s=this.core.galleryItems[e].__slideVideoInfo||{};return i=s.youtube&&this.settings.loadYouTubeThumbnail?\"//img.youtube.com/vi/\"+s.youtube[1]+\"/\"+this.settings.youTubeThumbSize+\".jpg\":t,'<div data-lg-item-id=\"'+e+'\" class=\"lg-thumb-item '+(e===this.core.index?\" active\":\"\")+'\" \\n        style=\"width:'+this.settings.thumbWidth+\"px; height: \"+this.settings.thumbHeight+\";\\n            margin-right: \"+this.settings.thumbMargin+'px;\">\\n            <img data-lg-item-id=\"'+e+'\" src=\"'+i+'\" />\\n        </div>'},o.prototype.getThumbItemHtml=function(t){for(var e=\"\",i=0;i<t.length;i++)e+=this.getThumbHtml(t[i].thumb,i);return e},o.prototype.setThumbItemHtml=function(t){var e=this.getThumbItemHtml(t);this.$lgThumb.html(e)},o.prototype.setAnimateThumbStyles=function(){this.settings.animateThumb&&this.core.outer.addClass(\"lg-animate-thumb\")},o.prototype.manageActiveClassOnSlideChange=function(){var t=this;this.core.LGel.on(n+\".thumb\",(function(e){var i=t.core.outer.find(\".lg-thumb-item\"),s=e.detail.index;i.removeClass(\"active\"),i.eq(s).addClass(\"active\")}))},o.prototype.toggleThumbBar=function(){var t=this;this.settings.toggleThumb&&(this.core.outer.addClass(\"lg-can-toggle\"),this.core.$toolbar.append('<button type=\"button\" aria-label=\"'+this.settings.thumbnailPluginStrings.toggleThumbnails+'\" class=\"lg-toggle-thumb lg-icon\"></button>'),this.core.outer.find(\".lg-toggle-thumb\").first().on(\"click.lg\",(function(){t.core.outer.toggleClass(\"lg-components-open\")})))},o.prototype.thumbKeyPress=function(){var t=this;this.$LG(window).on(\"keydown.lg.thumb.global\"+this.core.lgId,(function(e){t.core.lgOpened&&t.settings.toggleThumb&&(38===e.keyCode?(e.preventDefault(),t.core.outer.addClass(\"lg-components-open\")):40===e.keyCode&&(e.preventDefault(),t.core.outer.removeClass(\"lg-components-open\")))}))},o.prototype.destroy=function(){this.settings.thumbnail&&(this.$LG(window).off(\".lg.thumb.global\"+this.core.lgId),this.core.LGel.off(\".lg.thumb\"),this.core.LGel.off(\".thumb\"),this.$thumbOuter.remove(),this.core.outer.removeClass(\"lg-has-thumb\"))},o}()}));\n","[\r\n  {\r\n    \"src\": \"images/brabanson/photo_2023-02-08_17-29-47.jpg\",\r\n    \"thumb\": \"images/brabanson/photo_2023-02-08_17-29-47.jpg\",\r\n    \"header\": \"\",\r\n    \"description\": \"\",\r\n    \"date\": \"2023/02/08/17:22\"\r\n  },\r\n  {\r\n    \"src\": \"images/brabanson/photo_2023-02-08_17-30-06.jpg\",\r\n    \"thumb\": \"images/brabanson/photo_2023-02-08_17-30-06.jpg\",\r\n    \"header\": \"\",\r\n    \"description\": \"\",\r\n    \"date\": \"2023/02/08/17:13\"\r\n  },\r\n  {\r\n    \"src\": \"images/brabanson/photo_2023-02-08_17-30-12.jpg\",\r\n    \"thumb\": \"images/brabanson/photo_2023-02-08_17-30-12.jpg\",\r\n    \"header\": \"\",\r\n    \"description\": \"\",\r\n    \"date\": \"2023/02/08/17:29\"\r\n  },\r\n  {\r\n    \"src\": \"images/brabanson/photo_2023-02-08_17-30-16.jpg\",\r\n    \"thumb\": \"images/brabanson/photo_2023-02-08_17-30-16.jpg\",\r\n    \"header\": \"\",\r\n    \"description\": \"\",\r\n    \"date\": \"2023/02/08/17:46\"\r\n  },\r\n  {\r\n    \"src\": \"images/brabanson/photo_2023-02-08_17-30-20.jpg\",\r\n    \"thumb\": \"images/brabanson/photo_2023-02-08_17-30-20.jpg\",\r\n    \"header\": \"\",\r\n    \"description\": \"\",\r\n    \"date\": \"2023/03/01/17:25\"\r\n  },\r\n  {\r\n    \"src\": \"images/brabanson/photo_2023-02-08_17-30-24.jpg\",\r\n    \"thumb\": \"images/brabanson/photo_2023-02-08_17-30-24.jpg\",\r\n    \"header\": \"\",\r\n    \"description\": \"\",\r\n    \"date\": \"2023/02/08/16:28\"\r\n  },\r\n  {\r\n    \"src\": \"images/brabanson/photo_2023-02-08_17-30-39.jpg\",\r\n    \"thumb\": \"images/brabanson/photo_2023-02-08_17-30-39.jpg\",\r\n    \"header\": \"\",\r\n    \"description\": \"\",\r\n    \"date\": \"2023/02/08/17:20\"\r\n  },\r\n  {\r\n    \"src\": \"images/brabanson/photo_2023-02-08_17-30-42.jpg\",\r\n    \"thumb\": \"images/brabanson/photo_2023-02-08_17-30-42.jpg\",\r\n    \"header\": \"\",\r\n    \"description\": \"\",\r\n    \"date\": \"2023/02/08/17:31\"\r\n  }\r\n]\r\n","import lightGallery from 'lightgallery';\r\nimport Autoplay from '../plugins/autoplay/lg-autoplay.min';\r\nimport Thumbnail from '../plugins/thumbnail/lg-thumbnail.min';\r\nimport DynemicGallaryEl from './source/DynamicMainGallaryEl.json';\r\nconst lgContainer = document.getElementById('inline-gallery-container');\r\nconst inlineGallery = lightGallery(lgContainer, {\r\n  container: lgContainer,\r\n  dynamic: true,\r\n\r\n  hash: false,\r\n\r\n  closeOnTap: true,\r\n\r\n  escKey: true,\r\n\r\n  controls: true,\r\n\r\n  closable: false,\r\n\r\n  showMaximizeIcon: true,\r\n\r\n  appendSubHtmlTo: '.lg-item',\r\n\r\n  slideShowAutoplay: true,\r\n\r\n  slideDelay: 0,\r\n  plugins: [Autoplay, Thumbnail],\r\n  controls: true,\r\n  dynamicEl: [...CreateDynemicEl(8)],\r\n});\r\n\r\nsetTimeout(() => {\r\n  inlineGallery.openGallery();\r\n}, 300);\r\nfunction SortElForDate() {\r\n  const arr = DynemicGallaryEl;\r\n  return arr.sort((a, b) => new Date(b.date) - new Date(a.date));\r\n}\r\n\r\nfunction CreateDynemicEl(quantity) {\r\n  const el = [];\r\n  for (let i = 0; i < quantity; i += 1) {\r\n    const SortEl = SortElForDate()[i];\r\n    SortEl.subHtml = `<div class=\"lightGallery-captions\">\r\n                <h4>${SortEl.header}</h4>\r\n                 <p> ${SortEl.date}</p>\r\n             </div>`;\r\n    SortEl.src = `https://raw.githubusercontent.com/vaaleerkiin/Dog__Blog/main/src/${SortEl.src}`;\r\n    SortEl.thumb = `https://raw.githubusercontent.com/vaaleerkiin/Dog__Blog/main/src/${SortEl.thumb}`;\r\n    delete SortEl.header;\r\n    delete SortEl.description;\r\n    delete SortEl.date;\r\n    el.push(SortEl);\r\n  }\r\n  return el;\r\n}\r\n","import { LightGallerySettings } from './lg-settings';\nimport { LightGallery } from './lightgallery';\n\nfunction lightGallery(\n    el: HTMLElement,\n    options?: LightGallerySettings,\n): LightGallery {\n    return new LightGallery(el, options);\n}\nexport default lightGallery;\n","const refs = {\r\n  openMenuBtn: document.querySelector('[data-menu-open]'),\r\n  MenuBtnaboutMe: document.querySelector('[data-menu-aboutMe]'),\r\n  MenuBtnSoc: document.querySelector('[data-menu-soc]'),\r\n  MenuBtnContact: document.querySelector('[data-menu-contact]'),\r\n  menu: document.querySelector('[data-menu]'),\r\n  menuBtnEn: document.querySelector('#menu__en'),\r\n  menuBtnUa: document.querySelector('#menu__ua'),\r\n};\r\n\r\nrefs.openMenuBtn.addEventListener('click', toggleModal);\r\nrefs.MenuBtnaboutMe.addEventListener('click', toggleModal);\r\nrefs.MenuBtnSoc.addEventListener('click', toggleModal);\r\nrefs.MenuBtnContact.addEventListener('click', toggleModal);\r\nrefs.menuBtnEn.addEventListener('click', toggleModal);\r\nrefs.menuBtnUa.addEventListener('click', toggleModal);\r\n\r\nfunction toggleModal() {\r\n  document.body.classList.toggle('menu-open');\r\n  refs.menu.classList.toggle('is-hidden-menu');\r\n}\r\n","import MainNewsEl from './source/MainNewsEl.json';\r\nfunction SortElForDate() {\r\n  const arr = MainNewsEl;\r\n  return arr.sort((a, b) => new Date(b.date) - new Date(a.date));\r\n}\r\nfunction CreateNewsEl(quantity) {\r\n  const el = [];\r\n  for (let i = 0; i < quantity; i += 1) {\r\n    const SortEl = SortElForDate()[i];\r\n\r\n    el.push(` <li class=\"news__item\">\r\n          <div class=\"news__inf-wrap\">\r\n            <div class=\"news__img-wrap\">\r\n              <img\r\n                src=\"https://raw.githubusercontent.com/vaaleerkiin/Dog__Blog/main/src/${SortEl.src}\"\r\n                alt=\"  \"\r\n              />\r\n            </div>\r\n            <div class=\"news__text-wrap\">\r\n              <p>\r\n                ${SortEl.header} \r\n              </p>\r\n              <p class=\"news__date\">${SortEl.date}</p>\r\n              <button class=\"btn news__btn\"> </button>\r\n            </div>\r\n          </div>\r\n        </li>`);\r\n  }\r\n  return el;\r\n}\r\nconsole.log(CreateNewsEl(4));\r\ndocument.querySelector('.news__list').innerHTML = CreateNewsEl(4).join('');\r\n","[\r\n  {\r\n    \"src\": \"images/brabanson/photo_2023-02-08_17-29-47.jpg\",\r\n    \"thumb\": \"images/brabanson/photo_2023-02-08_17-29-47.jpg\",\r\n    \"header\": \"      !     ,    .\",\r\n    \"description\": \"\",\r\n    \"date\": \"2023/02/08/17:22\"\r\n  },\r\n  {\r\n    \"src\": \"images/brabanson/photo_2023-02-08_17-30-06.jpg\",\r\n    \"thumb\": \"images/brabanson/photo_2023-02-08_17-30-06.jpg\",\r\n    \"header\": \"      !       .\",\r\n    \"description\": \"\",\r\n    \"date\": \"2023/02/08/17:13\"\r\n  },\r\n  {\r\n    \"src\": \"images/brabanson/photo_2023-02-08_17-30-12.jpg\",\r\n    \"thumb\": \"images/brabanson/photo_2023-02-08_17-30-12.jpg\",\r\n    \"header\": \"      !       .\",\r\n    \"description\": \"\",\r\n    \"date\": \"2023/02/08/17:29\"\r\n  },\r\n  {\r\n    \"src\": \"images/brabanson/photo_2023-02-08_17-30-16.jpg\",\r\n    \"thumb\": \"images/brabanson/photo_2023-02-08_17-30-16.jpg\",\r\n    \"header\": \"      !     ,    .\",\r\n    \"description\": \"\",\r\n    \"date\": \"2023/02/08/17:46\"\r\n  },\r\n  {\r\n    \"src\": \"images/brabanson/photo_2023-02-08_17-30-20.jpg\",\r\n    \"thumb\": \"images/brabanson/photo_2023-02-08_17-30-20.jpg\",\r\n    \"header\": \"      !       .\",\r\n    \"description\": \"\",\r\n    \"date\": \"2023/03/01/17:25\"\r\n  },\r\n  {\r\n    \"src\": \"images/brabanson/photo_2023-02-08_17-30-24.jpg\",\r\n    \"thumb\": \"images/brabanson/photo_2023-02-08_17-30-24.jpg\",\r\n    \"header\": \"      !       .\",\r\n    \"description\": \"\",\r\n    \"date\": \"2023/02/08/16:28\"\r\n  },\r\n  {\r\n    \"src\": \"images/brabanson/photo_2023-02-08_17-30-39.jpg\",\r\n    \"thumb\": \"images/brabanson/photo_2023-02-08_17-30-39.jpg\",\r\n    \"header\": \"      !       .\",\r\n    \"description\": \"\",\r\n    \"date\": \"2023/02/08/17:20\"\r\n  },\r\n  {\r\n    \"src\": \"images/brabanson/photo_2023-02-08_17-30-42.jpg\",\r\n    \"thumb\": \"images/brabanson/photo_2023-02-08_17-30-42.jpg\",\r\n    \"header\": \"      !     ,    .\",\r\n    \"description\": \"\",\r\n    \"date\": \"2023/02/08/17:31\"\r\n  }\r\n]\r\n"],"names":["$78328f4ee441e772$var$LangArr","lng__logo","ua","en","lng__aboutMe__nav","lng__news__nav","lng__contact__nav","lng__aboutMe__menu","lng__news__menu","lng__contact__menu","lng__heroTitle","lng__heroText","lng__inform__title","localStorage","getItem","setItem","$78328f4ee441e772$var$refs","navBtnEn","document","querySelector","navBtnUa","menuBtnEn","menuBtnUa","$78328f4ee441e772$var$ChangeLang","lang","key","innerHTML","addEventListener","$827f1cae6b509de7$var$lGEvents","$827f1cae6b509de7$var$lightGalleryCoreSettings","mode","easing","speed","licenseKey","height","width","addClass","startClass","backdropDuration","container","startAnimationDuration","zoomFromOrigin","hideBarsDelay","showBarsAfter","slideDelay","supportLegacyBrowser","allowMediaOverlap","videoMaxSize","loadYouTubePoster","defaultCaptionHeight","ariaLabelledby","ariaDescribedby","resetScrollPosition","hideScrollbar","closable","swipeToClose","closeOnTap","showCloseIcon","showMaximizeIcon","loop","escKey","keyPress","trapFocus","controls","slideEndAnimation","hideControlOnEnd","mousewheel","getCaptionFromTitleOrAlt","appendSubHtmlTo","subHtmlSelectorRelative","preload","numberOfSlideItemsInDom","selector","selectWithin","nextHtml","prevHtml","index","iframeWidth","iframeHeight","iframeMaxWidth","iframeMaxHeight","download","counter","appendCounterTo","swipeThreshold","enableSwipe","enableDrag","dynamic","dynamicEl","extraProps","exThumbImage","isMobile","undefined","mobileSettings","plugins","strings","closeGallery","toggleMaximize","previousSlide","nextSlide","playVideo","$827f1cae6b509de7$var$lgQuery","lgQuery","this","cssVenderPrefixes","_getSelector","firstElement","_getFirstEl","generateUUID","replace","c","r","Math","random","toString","prototype","context","substring","querySelectorAll","_each","func","length","forEach","call","_setCssVendorPrefix","el","cssProperty","value","property","s","group1","toUpperCase","indexOf","style","charAt","toLowerCase","slice","isEventMatched","event","eventName","eventNamespace","split","filter","e","every","attr","getAttribute","setAttribute","find","$827f1cae6b509de7$var$$LG","first","eq","parent","parentElement","get","removeAttr","attributes","attrs","removeAttribute","wrap","className","wrapper","createElement","parentNode","insertBefore","removeChild","appendChild","classNames","classList","add","removeClass","remove","hasClass","contains","hasAttribute","attribute","toggleClass","css","_this","on","events","listener","Array","isArray","eventListeners","push","once","off","Object","keys","removeEventListener","trigger","detail","customEvent","CustomEvent","dispatchEvent","load","url","fetch","then","res","text","html","append","insertAdjacentHTML","prepend","empty","scrollTop","body","documentElement","window","pageYOffset","scrollLeft","pageXOffset","offset","left","top","rect","getBoundingClientRect","bodyMarginLeft","marginLeft","parseFloat","currentStyle","getComputedStyle","clientWidth","paddingLeft","paddingRight","clientHeight","paddingTop","paddingBottom","params","bubbles","cancelable","evt","createEvent","initCustomEvent","Element","matches","msMatchesSelector","webkitMatchesSelector","$827f1cae6b509de7$var$defaultDynamicOptions","$827f1cae6b509de7$var$convertToData","g","$827f1cae6b509de7$var$utils","spacing","defaultLgSize","lgSize","isResponsiveSizes","wWidth","innerWidth","i","size_1","parseInt","size","cWidth","cHeight","maxWidth","min","maxHeight","ratio","bottom","imageSize","LGel","containerRect","wHeight","elWidth","elHeight","elStyle","x","borderLeft","y","borderTop","src","iframeTitle","altAttr","srcset","sizes","sources","imgMarkup","sourceTag","JSON","parse","map","source","srcItms","rsWidth","rsSrc","_src","splice","j","img","complete","naturalWidth","_poster","dummyImg","videoContStyle","playVideoString","_isVideo","youtube","vimeo","elements","element","display","visibility","items","dynamicElements","availableDynamicOptions","$827f1cae6b509de7$var$__spreadArrays","item","specified","dynamicAttr","name","label","currentItem","alt","title","thumb","subHtml","test","navigator","userAgent","isHTML5VIdeo","html5","console","error","match","wistia","$827f1cae6b509de7$var$lgId","$827f1cae6b509de7$var$LightGallery","LightGallery","options","lgOpened","lGalleryOn","lgBusy","currentItemsInDom","prevScrollTop","bodyPaddingRight","isDummyImageRemoved","dragOrSwipeEnabled","mediaContainerPosition","lgId","generateSettings","buildModules","settings","galleryItems","getItems","normalizeSettings","init","validateLicense","$827f1cae6b509de7$var$__assign","addSlideVideoInfo","buildStructure","instance","setTimeout","triggerPosterClick","arrow","openGalleryOnItemClick","_loop_1","this_1","$element","uuid","preventDefault","currentItemIndex","openGallery","plugin","warn","getSlideItem","getSlideItemId","getIdName","id","getElementById","manageSingleSlideClassName","outer","$container","subHtmlCont","addClasses","containerClassName","closeIcon","maximizeIcon","template","$lgComponents","$backdrop","$inner","$content","$toolbar","outerClassNames","refreshOnResize","hideBars","manageCloseGallery","initModules","__slideVideoInfo","getMediaContainerPosition","_a","top_1","currentImageSize","resizeVideoSlide","imgStyle","getDummyImgStyles","lgVideoStyle","getVideoContStyle","updateSlides","currentSrc","updateControls","_index","some","galleryItem","itemIndex","organizeSlideItems","loadContent","updateCurrentCounter","children","shouldHideScrollbar","bodyRect","scrollbarWidth","resetScrollBar","itemsToBeInsertedToDom","getItemsToBeInsertedToDom","addHtml","transform","setMediaContainerPosition","timeout","currentSlide_1","slide","captionHeight","thumbContainer","clearTimeout","hideBarTimeout","initPictureFill","$img","picturefill","counterHtml","subHtmlUrl","fL","currentSlide","getDummyImageContent","$currentSlide","$currentItem","_dummyImgSrc","dummyImgContent","setImgMarkup","currentGalleryItem","isFirstSlideWithZoomAnimation","onSlideObjectLoad","$slide","isHTML5VideoWithoutPoster","onLoad","onError","mediaObject","onLgObjectLoad","delay","isFirstSlide","triggerSlideItemLoad","_speed","getSlideType","poster","video","rec","_html5Video","responsive","srcDyItms","videoInfo","iframe","top_2","videoSize","markup","html5Video","hasPoster","loadContentOnFirstSlideLoad","prevIndex","numberOfItems","possibleNumberOfItems","max","prevIndexItem","_element","idx","numberOfExistingItems","getPreviousSlideIndex","currentItemId","setDownloadValue","downloadUrl","$download","makeSlideAnimation","direction","currentSlideItem","previousSlideItem","fromTouch","fromThumb","numberOfGalleryItems","previousSlideItem_1","top_3","arrowDisable","touchPrev","touchNext","updateCounterTotal","touchMove","startCoords","endCoords","distanceX","pageX","distanceY","pageY","allowSwipe","swipeDirection","abs","setTranslate","offsetWidth","gutter","opacity","innerHeight","scale","touchEnd","distance","triggerClick","distanceAbs","goToNextSlide","goToPrevSlide","target","isPosterElement","isMoved","isSwiping","$item","touches","touchAction","manageSwipeClass","isDraging","_touchNext","_touchPrev","_loop","keyCode","$prev","$next","$el","xValue","yValue","scaleX","scaleY","lastCall","deltaY","now","Date","getTime","isSlideElement","playButton","invalidateItems","focus","preventScroll","focusableEls","firstFocusableEl","lastFocusableEl","shiftKey","activeElement","mousedown","force","top_4","_b","destroyModules","removeTimeout","blur","module","err","destroy","refresh","destroyGallery","closeTimeout","bind","$f4b42f17ee0bbd1d$exports","t","assign","o","arguments","hasOwnProperty","apply","a","l","n","u","autoplay","slideShowAutoplay","slideShowInterval","progressBar","forceSlideShowAutoplay","autoplayControls","appendAutoplayControlsTo","autoplayPluginStrings","toggleAutoplay","p","core","interval","fromAuto","pausedOnTouchDrag","pausedOnSlideChange","startAutoPlay","stopAutoPlay","showProgressBar","setInterval","clearInterval","$770a2f3f442939ec$exports","h","thumbnail","animateThumb","currentPagerPosition","alignThumbnails","thumbWidth","thumbHeight","thumbMargin","appendThumbnailsTo","toggleThumb","enableThumbDrag","enableThumbSwipe","thumbnailSwipeThreshold","loadYouTubeThumbnail","youTubeThumbSize","thumbnailPluginStrings","toggleThumbnails","thumbOuterWidth","thumbTotalWidth","translateX","thumbClickable","$LG","setAnimateThumbStyles","build","toggleThumbBar","thumbKeyPress","setThumbMarkup","manageActiveClassOnSlideChange","$lgThumb","rebuildThumbnails","$thumbOuter","setThumbItemHtml","cords","startX","endX","newTranslateX","startTime","endTime","touchMoveTime","onThumbTouchMove","onThumbTouchEnd","targetTouches","getPossibleTransformX","valueOf","getThumbHtml","getThumbItemHtml","$c4cfa22ac3842726$exports","$151ab9c65afb1b4d$var$lgContainer","$151ab9c65afb1b4d$var$inlineGallery","hash","$parcel$interopDefault","quantity","SortEl","$151ab9c65afb1b4d$var$SortElForDate","header","date","description","$151ab9c65afb1b4d$var$CreateDynemicEl","sort","b","$a6f082bb96fcbb30$var$refs","openMenuBtn","MenuBtnaboutMe","MenuBtnSoc","MenuBtnContact","menu","$a6f082bb96fcbb30$var$toggleModal","toggle","$963508ebb68a0a78$var$CreateNewsEl","$9236f0b20a7b4d6a$exports","log","join"],"version":3,"file":"index.cff985e8.js.map"}